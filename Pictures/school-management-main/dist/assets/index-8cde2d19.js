(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Gr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const _e={},fs=[],ut=()=>{},Dl=()=>!1,Mn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Jr=t=>t.startsWith("onUpdate:"),$e=Object.assign,Qr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Nl=Object.prototype.hasOwnProperty,de=(t,e)=>Nl.call(t,e),W=Array.isArray,ps=t=>rn(t)==="[object Map]",Dn=t=>rn(t)==="[object Set]",To=t=>rn(t)==="[object Date]",Z=t=>typeof t=="function",Pe=t=>typeof t=="string",vt=t=>typeof t=="symbol",Ee=t=>t!==null&&typeof t=="object",Fi=t=>(Ee(t)||Z(t))&&Z(t.then)&&Z(t.catch),Bi=Object.prototype.toString,rn=t=>Bi.call(t),Ul=t=>rn(t).slice(8,-1),Vi=t=>rn(t)==="[object Object]",Yr=t=>Pe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ds=Gr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Nn=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Fl=/-(\w)/g,rt=Nn(t=>t.replace(Fl,(e,s)=>s?s.toUpperCase():"")),Bl=/\B([A-Z])/g,ss=Nn(t=>t.replace(Bl,"-$1").toLowerCase()),Un=Nn(t=>t.charAt(0).toUpperCase()+t.slice(1)),rr=Nn(t=>t?`on${Un(t)}`:""),Nt=(t,e)=>!Object.is(t,e),wn=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Hi=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},Cn=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Vl=t=>{const e=Pe(t)?Number(t):NaN;return isNaN(e)?t:e};let Ao;const Fn=()=>Ao||(Ao=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xr(t){if(W(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=Pe(n)?zl(n):Xr(n);if(r)for(const o in r)e[o]=r[o]}return e}else if(Pe(t)||Ee(t))return t}const Hl=/;(?![^(]*\))/g,ql=/:([^]+)/,Kl=/\/\*[^]*?\*\//g;function zl(t){const e={};return t.replace(Kl,"").split(Hl).forEach(s=>{if(s){const n=s.split(ql);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Gs(t){let e="";if(Pe(t))e=t;else if(W(t))for(let s=0;s<t.length;s++){const n=Gs(t[s]);n&&(e+=n+" ")}else if(Ee(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Wl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gl=Gr(Wl);function qi(t){return!!t||t===""}function Jl(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=Bn(t[n],e[n]);return s}function Bn(t,e){if(t===e)return!0;let s=To(t),n=To(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=vt(t),n=vt(e),s||n)return t===e;if(s=W(t),n=W(e),s||n)return s&&n?Jl(t,e):!1;if(s=Ee(t),n=Ee(e),s||n){if(!s||!n)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const i in t){const a=t.hasOwnProperty(i),l=e.hasOwnProperty(i);if(a&&!l||!a&&l||!Bn(t[i],e[i]))return!1}}return String(t)===String(e)}function Ql(t,e){return t.findIndex(s=>Bn(s,e))}const Ki=t=>!!(t&&t.__v_isRef===!0),B=t=>Pe(t)?t:t==null?"":W(t)||Ee(t)&&(t.toString===Bi||!Z(t.toString))?Ki(t)?B(t.value):JSON.stringify(t,zi,2):String(t),zi=(t,e)=>Ki(e)?zi(t,e.value):ps(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],o)=>(s[or(n,o)+" =>"]=r,s),{})}:Dn(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>or(s))}:vt(e)?or(e):Ee(e)&&!W(e)&&!Vi(e)?String(e):e,or=(t,e="")=>{var s;return vt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Be;class Wi{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Be,!e&&Be&&(this.index=(Be.scopes||(Be.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Be;try{return Be=this,e()}finally{Be=s}}}on(){Be=this}off(){Be=this.parent}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Gi(t){return new Wi(t)}function Ji(){return Be}function Yl(t,e=!1){Be&&Be.cleanups.push(t)}let Se;const ir=new WeakSet;class Qi{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Be&&Be.active&&Be.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ir.has(this)&&(ir.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Po(this),Zi(this);const e=Se,s=dt;Se=this,dt=!0;try{return this.fn()}finally{ea(this),Se=e,dt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)to(e);this.deps=this.depsTail=void 0,Po(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ir.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Er(this)&&this.run()}get dirty(){return Er(this)}}let Yi=0,Ns,Us;function Xi(t,e=!1){if(t.flags|=8,e){t.next=Us,Us=t;return}t.next=Ns,Ns=t}function Zr(){Yi++}function eo(){if(--Yi>0)return;if(Us){let e=Us;for(Us=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Ns;){let e=Ns;for(Ns=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function Zi(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ea(t){let e,s=t.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),to(n),Xl(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=s}function Er(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ta(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ta(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Js))return;t.globalVersion=Js;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Er(t)){t.flags&=-3;return}const s=Se,n=dt;Se=t,dt=!0;try{Zi(t);const r=t.fn(t._value);(e.version===0||Nt(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Se=s,dt=n,ea(t),t.flags&=-3}}function to(t,e=!1){const{dep:s,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)to(o,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Xl(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let dt=!0;const sa=[];function Ft(){sa.push(dt),dt=!1}function Bt(){const t=sa.pop();dt=t===void 0?!0:t}function Po(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Se;Se=void 0;try{e()}finally{Se=s}}}let Js=0;class Zl{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class so{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Se||!dt||Se===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Se)s=this.activeLink=new Zl(Se,this),Se.deps?(s.prevDep=Se.depsTail,Se.depsTail.nextDep=s,Se.depsTail=s):Se.deps=Se.depsTail=s,na(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Se.depsTail,s.nextDep=void 0,Se.depsTail.nextDep=s,Se.depsTail=s,Se.deps===s&&(Se.deps=n)}return s}trigger(e){this.version++,Js++,this.notify(e)}notify(e){Zr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{eo()}}}function na(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)na(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Tn=new WeakMap,Xt=Symbol(""),kr=Symbol(""),Qs=Symbol("");function De(t,e,s){if(dt&&Se){let n=Tn.get(t);n||Tn.set(t,n=new Map);let r=n.get(s);r||(n.set(s,r=new so),r.map=n,r.key=s),r.track()}}function Et(t,e,s,n,r,o){const i=Tn.get(t);if(!i){Js++;return}const a=l=>{l&&l.trigger()};if(Zr(),e==="clear")i.forEach(a);else{const l=W(t),c=l&&Yr(s);if(l&&s==="length"){const u=Number(n);i.forEach((d,f)=>{(f==="length"||f===Qs||!vt(f)&&f>=u)&&a(d)})}else switch((s!==void 0||i.has(void 0))&&a(i.get(s)),c&&a(i.get(Qs)),e){case"add":l?c&&a(i.get("length")):(a(i.get(Xt)),ps(t)&&a(i.get(kr)));break;case"delete":l||(a(i.get(Xt)),ps(t)&&a(i.get(kr)));break;case"set":ps(t)&&a(i.get(Xt));break}}eo()}function ec(t,e){const s=Tn.get(t);return s&&s.get(e)}function is(t){const e=ae(t);return e===t?e:(De(e,"iterate",Qs),st(t)?e:e.map(Ne))}function Vn(t){return De(t=ae(t),"iterate",Qs),t}const tc={__proto__:null,[Symbol.iterator](){return ar(this,Symbol.iterator,Ne)},concat(...t){return is(this).concat(...t.map(e=>W(e)?is(e):e))},entries(){return ar(this,"entries",t=>(t[1]=Ne(t[1]),t))},every(t,e){return yt(this,"every",t,e,void 0,arguments)},filter(t,e){return yt(this,"filter",t,e,s=>s.map(Ne),arguments)},find(t,e){return yt(this,"find",t,e,Ne,arguments)},findIndex(t,e){return yt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return yt(this,"findLast",t,e,Ne,arguments)},findLastIndex(t,e){return yt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return yt(this,"forEach",t,e,void 0,arguments)},includes(...t){return lr(this,"includes",t)},indexOf(...t){return lr(this,"indexOf",t)},join(t){return is(this).join(t)},lastIndexOf(...t){return lr(this,"lastIndexOf",t)},map(t,e){return yt(this,"map",t,e,void 0,arguments)},pop(){return Rs(this,"pop")},push(...t){return Rs(this,"push",t)},reduce(t,...e){return xo(this,"reduce",t,e)},reduceRight(t,...e){return xo(this,"reduceRight",t,e)},shift(){return Rs(this,"shift")},some(t,e){return yt(this,"some",t,e,void 0,arguments)},splice(...t){return Rs(this,"splice",t)},toReversed(){return is(this).toReversed()},toSorted(t){return is(this).toSorted(t)},toSpliced(...t){return is(this).toSpliced(...t)},unshift(...t){return Rs(this,"unshift",t)},values(){return ar(this,"values",Ne)}};function ar(t,e,s){const n=Vn(t),r=n[e]();return n!==t&&!st(t)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=s(o.value)),o}),r}const sc=Array.prototype;function yt(t,e,s,n,r,o){const i=Vn(t),a=i!==t&&!st(t),l=i[e];if(l!==sc[e]){const d=l.apply(t,o);return a?Ne(d):d}let c=s;i!==t&&(a?c=function(d,f){return s.call(this,Ne(d),f,t)}:s.length>2&&(c=function(d,f){return s.call(this,d,f,t)}));const u=l.call(i,c,n);return a&&r?r(u):u}function xo(t,e,s,n){const r=Vn(t);let o=s;return r!==t&&(st(t)?s.length>3&&(o=function(i,a,l){return s.call(this,i,a,l,t)}):o=function(i,a,l){return s.call(this,i,Ne(a),l,t)}),r[e](o,...n)}function lr(t,e,s){const n=ae(t);De(n,"iterate",Qs);const r=n[e](...s);return(r===-1||r===!1)&&oo(s[0])?(s[0]=ae(s[0]),n[e](...s)):r}function Rs(t,e,s=[]){Ft(),Zr();const n=ae(t)[e].apply(t,s);return eo(),Bt(),n}const nc=Gr("__proto__,__v_isRef,__isVue"),ra=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(vt));function rc(t){vt(t)||(t=String(t));const e=ae(this);return De(e,"has",t),e.hasOwnProperty(t)}class oa{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const r=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(r?o?pc:ca:o?la:aa).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const i=W(e);if(!r){let l;if(i&&(l=tc[s]))return l;if(s==="hasOwnProperty")return rc}const a=Reflect.get(e,s,Ae(e)?e:n);return(vt(s)?ra.has(s):nc(s))||(r||De(e,"get",s),o)?a:Ae(a)?i&&Yr(s)?a:a.value:Ee(a)?r?da(a):on(a):a}}class ia extends oa{constructor(e=!1){super(!1,e)}set(e,s,n,r){let o=e[s];if(!this._isShallow){const l=es(o);if(!st(n)&&!es(n)&&(o=ae(o),n=ae(n)),!W(e)&&Ae(o)&&!Ae(n))return l?!1:(o.value=n,!0)}const i=W(e)&&Yr(s)?Number(s)<e.length:de(e,s),a=Reflect.set(e,s,n,Ae(e)?e:r);return e===ae(r)&&(i?Nt(n,o)&&Et(e,"set",s,n):Et(e,"add",s,n)),a}deleteProperty(e,s){const n=de(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&Et(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!vt(s)||!ra.has(s))&&De(e,"has",s),n}ownKeys(e){return De(e,"iterate",W(e)?"length":Xt),Reflect.ownKeys(e)}}class oc extends oa{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const ic=new ia,ac=new oc,lc=new ia(!0);const Cr=t=>t,pn=t=>Reflect.getPrototypeOf(t);function cc(t,e,s){return function(...n){const r=this.__v_raw,o=ae(r),i=ps(o),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,c=r[t](...n),u=s?Cr:e?Tr:Ne;return!e&&De(o,"iterate",l?kr:Xt),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function gn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function uc(t,e){const s={get(r){const o=this.__v_raw,i=ae(o),a=ae(r);t||(Nt(r,a)&&De(i,"get",r),De(i,"get",a));const{has:l}=pn(i),c=e?Cr:t?Tr:Ne;if(l.call(i,r))return c(o.get(r));if(l.call(i,a))return c(o.get(a));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!t&&De(ae(r),"iterate",Xt),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,i=ae(o),a=ae(r);return t||(Nt(r,a)&&De(i,"has",r),De(i,"has",a)),r===a?o.has(r):o.has(r)||o.has(a)},forEach(r,o){const i=this,a=i.__v_raw,l=ae(a),c=e?Cr:t?Tr:Ne;return!t&&De(l,"iterate",Xt),a.forEach((u,d)=>r.call(o,c(u),c(d),i))}};return $e(s,t?{add:gn("add"),set:gn("set"),delete:gn("delete"),clear:gn("clear")}:{add(r){!e&&!st(r)&&!es(r)&&(r=ae(r));const o=ae(this);return pn(o).has.call(o,r)||(o.add(r),Et(o,"add",r,r)),this},set(r,o){!e&&!st(o)&&!es(o)&&(o=ae(o));const i=ae(this),{has:a,get:l}=pn(i);let c=a.call(i,r);c||(r=ae(r),c=a.call(i,r));const u=l.call(i,r);return i.set(r,o),c?Nt(o,u)&&Et(i,"set",r,o):Et(i,"add",r,o),this},delete(r){const o=ae(this),{has:i,get:a}=pn(o);let l=i.call(o,r);l||(r=ae(r),l=i.call(o,r)),a&&a.call(o,r);const c=o.delete(r);return l&&Et(o,"delete",r,void 0),c},clear(){const r=ae(this),o=r.size!==0,i=r.clear();return o&&Et(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=cc(r,t,e)}),s}function no(t,e){const s=uc(t,e);return(n,r,o)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(de(s,r)&&r in n?s:n,r,o)}const dc={get:no(!1,!1)},hc={get:no(!1,!0)},fc={get:no(!0,!1)};const aa=new WeakMap,la=new WeakMap,ca=new WeakMap,pc=new WeakMap;function gc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mc(t){return t.__v_skip||!Object.isExtensible(t)?0:gc(Ul(t))}function on(t){return es(t)?t:ro(t,!1,ic,dc,aa)}function ua(t){return ro(t,!1,lc,hc,la)}function da(t){return ro(t,!0,ac,fc,ca)}function ro(t,e,s,n,r){if(!Ee(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=r.get(t);if(o)return o;const i=mc(t);if(i===0)return t;const a=new Proxy(t,i===2?n:s);return r.set(t,a),a}function Ut(t){return es(t)?Ut(t.__v_raw):!!(t&&t.__v_isReactive)}function es(t){return!!(t&&t.__v_isReadonly)}function st(t){return!!(t&&t.__v_isShallow)}function oo(t){return t?!!t.__v_raw:!1}function ae(t){const e=t&&t.__v_raw;return e?ae(e):t}function io(t){return!de(t,"__v_skip")&&Object.isExtensible(t)&&Hi(t,"__v_skip",!0),t}const Ne=t=>Ee(t)?on(t):t,Tr=t=>Ee(t)?da(t):t;function Ae(t){return t?t.__v_isRef===!0:!1}function he(t){return ha(t,!1)}function vc(t){return ha(t,!0)}function ha(t,e){return Ae(t)?t:new _c(t,e)}class _c{constructor(e,s){this.dep=new so,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:ae(e),this._value=s?e:Ne(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||st(e)||es(e);e=n?e:ae(e),Nt(e,s)&&(this._rawValue=e,this._value=n?e:Ne(e),this.dep.trigger())}}function gs(t){return Ae(t)?t.value:t}const yc={get:(t,e,s)=>e==="__v_raw"?t:gs(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return Ae(r)&&!Ae(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function fa(t){return Ut(t)?t:new Proxy(t,yc)}function bc(t){const e=W(t)?new Array(t.length):{};for(const s in t)e[s]=Sc(t,s);return e}class wc{constructor(e,s,n){this._object=e,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ec(ae(this._object),this._key)}}function Sc(t,e,s){const n=t[e];return Ae(n)?n:new wc(t,e,s)}class Ec{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new so(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Js-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Se!==this)return Xi(this,!0),!0}get value(){const e=this.dep.track();return ta(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function kc(t,e,s=!1){let n,r;return Z(t)?n=t:(n=t.get,r=t.set),new Ec(n,r,s)}const mn={},An=new WeakMap;let Wt;function Cc(t,e=!1,s=Wt){if(s){let n=An.get(s);n||An.set(s,n=[]),n.push(t)}}function Tc(t,e,s=_e){const{immediate:n,deep:r,once:o,scheduler:i,augmentJob:a,call:l}=s,c=x=>r?x:st(x)||r===!1||r===0?kt(x,1):kt(x);let u,d,f,m,y=!1,_=!1;if(Ae(t)?(d=()=>t.value,y=st(t)):Ut(t)?(d=()=>c(t),y=!0):W(t)?(_=!0,y=t.some(x=>Ut(x)||st(x)),d=()=>t.map(x=>{if(Ae(x))return x.value;if(Ut(x))return c(x);if(Z(x))return l?l(x,2):x()})):Z(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Ft();try{f()}finally{Bt()}}const x=Wt;Wt=u;try{return l?l(t,3,[m]):t(m)}finally{Wt=x}}:d=ut,e&&r){const x=d,P=r===!0?1/0:r;d=()=>kt(x(),P)}const T=Ji(),O=()=>{u.stop(),T&&T.active&&Qr(T.effects,u)};if(o&&e){const x=e;e=(...P)=>{x(...P),O()}}let b=_?new Array(t.length).fill(mn):mn;const E=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(e){const P=u.run();if(r||y||(_?P.some((K,z)=>Nt(K,b[z])):Nt(P,b))){f&&f();const K=Wt;Wt=u;try{const z=[P,b===mn?void 0:_&&b[0]===mn?[]:b,m];l?l(e,3,z):e(...z),b=P}finally{Wt=K}}}else u.run()};return a&&a(E),u=new Qi(d),u.scheduler=i?()=>i(E,!1):E,m=x=>Cc(x,!1,u),f=u.onStop=()=>{const x=An.get(u);if(x){if(l)l(x,4);else for(const P of x)P();An.delete(u)}},e?n?E(!0):b=u.run():i?i(E.bind(null,!0),!0):u.run(),O.pause=u.pause.bind(u),O.resume=u.resume.bind(u),O.stop=O,O}function kt(t,e=1/0,s){if(e<=0||!Ee(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Ae(t))kt(t.value,e,s);else if(W(t))for(let n=0;n<t.length;n++)kt(t[n],e,s);else if(Dn(t)||ps(t))t.forEach(n=>{kt(n,e,s)});else if(Vi(t)){for(const n in t)kt(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&kt(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function an(t,e,s,n){try{return n?t(...n):t()}catch(r){ln(r,e,s)}}function _t(t,e,s,n){if(Z(t)){const r=an(t,e,s,n);return r&&Fi(r)&&r.catch(o=>{ln(o,e,s)}),r}if(W(t)){const r=[];for(let o=0;o<t.length;o++)r.push(_t(t[o],e,s,n));return r}}function ln(t,e,s,n=!0){const r=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||_e;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(o){Ft(),an(o,null,10,[t,l,c]),Bt();return}}Ac(t,s,r,n,i)}function Ac(t,e,s,n=!0,r=!1){if(r)throw t;console.error(t)}const Ve=[];let mt=-1;const ms=[];let jt=null,ds=0;const pa=Promise.resolve();let Pn=null;function Hn(t){const e=Pn||pa;return t?e.then(this?t.bind(this):t):e}function Pc(t){let e=mt+1,s=Ve.length;for(;e<s;){const n=e+s>>>1,r=Ve[n],o=Ys(r);o<t||o===t&&r.flags&2?e=n+1:s=n}return e}function ao(t){if(!(t.flags&1)){const e=Ys(t),s=Ve[Ve.length-1];!s||!(t.flags&2)&&e>=Ys(s)?Ve.push(t):Ve.splice(Pc(e),0,t),t.flags|=1,ga()}}function ga(){Pn||(Pn=pa.then(va))}function Ar(t){W(t)?ms.push(...t):jt&&t.id===-1?jt.splice(ds+1,0,t):t.flags&1||(ms.push(t),t.flags|=1),ga()}function Oo(t,e,s=mt+1){for(;s<Ve.length;s++){const n=Ve[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Ve.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ma(t){if(ms.length){const e=[...new Set(ms)].sort((s,n)=>Ys(s)-Ys(n));if(ms.length=0,jt){jt.push(...e);return}for(jt=e,ds=0;ds<jt.length;ds++){const s=jt[ds];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}jt=null,ds=0}}const Ys=t=>t.id==null?t.flags&2?-1:1/0:t.id;function va(t){const e=ut;try{for(mt=0;mt<Ve.length;mt++){const s=Ve[mt];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),an(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;mt<Ve.length;mt++){const s=Ve[mt];s&&(s.flags&=-2)}mt=-1,Ve.length=0,ma(),Pn=null,(Ve.length||ms.length)&&va()}}let We=null,_a=null;function xn(t){const e=We;return We=t,_a=t&&t.type.__scopeId||null,e}function ze(t,e=We,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&Fo(-1);const o=xn(e);let i;try{i=t(...r)}finally{xn(o),n._d&&Fo(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function je(t,e){if(We===null)return t;const s=Wn(We),n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,i,a,l=_e]=e[r];o&&(Z(o)&&(o={mounted:o,updated:o}),o.deep&&kt(i),n.push({dir:o,instance:s,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function qt(t,e,s,n){const r=t.dirs,o=e&&e.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[n];l&&(Ft(),_t(l,s,8,[t.el,a,t,e]),Bt())}}const xc=Symbol("_vte"),Oc=t=>t.__isTeleport;function lo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,lo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function ya(t,e){return Z(t)?(()=>$e({name:t.name},e,{setup:t}))():t}function ba(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function On(t,e,s,n,r=!1){if(W(t)){t.forEach((y,_)=>On(y,e&&(W(e)?e[_]:e),s,n,r));return}if(Fs(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&On(t,e,s,n.component.subTree);return}const o=n.shapeFlag&4?Wn(n.component):n.el,i=r?null:o,{i:a,r:l}=t,c=e&&e.r,u=a.refs===_e?a.refs={}:a.refs,d=a.setupState,f=ae(d),m=d===_e?()=>!1:y=>de(f,y);if(c!=null&&c!==l&&(Pe(c)?(u[c]=null,m(c)&&(d[c]=null)):Ae(c)&&(c.value=null)),Z(l))an(l,a,12,[i,u]);else{const y=Pe(l),_=Ae(l);if(y||_){const T=()=>{if(t.f){const O=y?m(l)?d[l]:u[l]:l.value;r?W(O)&&Qr(O,o):W(O)?O.includes(o)||O.push(o):y?(u[l]=[o],m(l)&&(d[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else y?(u[l]=i,m(l)&&(d[l]=i)):_&&(l.value=i,t.k&&(u[t.k]=i))};i?(T.id=-1,et(T,s)):T()}}}Fn().requestIdleCallback;Fn().cancelIdleCallback;const Fs=t=>!!t.type.__asyncLoader,wa=t=>t.type.__isKeepAlive;function Rc(t,e){Sa(t,"a",e)}function jc(t,e){Sa(t,"da",e)}function Sa(t,e,s=Le){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(qn(e,n,s),s){let r=s.parent;for(;r&&r.parent;)wa(r.parent.vnode)&&Ic(n,e,s,r),r=r.parent}}function Ic(t,e,s,n){const r=qn(e,t,n,!0);Ea(()=>{Qr(n[e],r)},s)}function qn(t,e,s=Le,n=!1){if(s){const r=s[t]||(s[t]=[]),o=e.__weh||(e.__weh=(...i)=>{Ft();const a=cn(s),l=_t(e,s,t,i);return a(),Bt(),l});return n?r.unshift(o):r.push(o),o}}const At=t=>(e,s=Le)=>{(!en||t==="sp")&&qn(t,(...n)=>e(...n),s)},$c=At("bm"),ns=At("m"),Lc=At("bu"),Mc=At("u"),Dc=At("bum"),Ea=At("um"),Nc=At("sp"),Uc=At("rtg"),Fc=At("rtc");function Bc(t,e=Le){qn("ec",t,e)}const ka="components";function Ct(t,e){return Hc(ka,t,!0,e)||t}const Vc=Symbol.for("v-ndc");function Hc(t,e,s=!0,n=!1){const r=We||Le;if(r){const o=r.type;if(t===ka){const a=Mu(o,!1);if(a&&(a===e||a===rt(e)||a===Un(rt(e))))return o}const i=Ro(r[t]||o[t],e)||Ro(r.appContext[t],e);return!i&&n?o:i}}function Ro(t,e){return t&&(t[e]||t[rt(e)]||t[Un(rt(e))])}function Ie(t,e,s,n){let r;const o=s&&s[n],i=W(t);if(i||Pe(t)){const a=i&&Ut(t);let l=!1;a&&(l=!st(t),t=Vn(t)),r=new Array(t.length);for(let c=0,u=t.length;c<u;c++)r[c]=e(l?Ne(t[c]):t[c],c,void 0,o&&o[c])}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,o&&o[a])}else if(Ee(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,o&&o[l]));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=e(t[u],u,l,o&&o[l])}}else r=[];return s&&(s[n]=r),r}const Pr=t=>t?Wa(t)?Wn(t):Pr(t.parent):null,Bs=$e(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Pr(t.parent),$root:t=>Pr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>co(t),$forceUpdate:t=>t.f||(t.f=()=>{ao(t.update)}),$nextTick:t=>t.n||(t.n=Hn.bind(t.proxy)),$watch:t=>du.bind(t)}),cr=(t,e)=>t!==_e&&!t.__isScriptSetup&&de(t,e),qc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:o,accessCache:i,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const m=i[e];if(m!==void 0)switch(m){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return o[e]}else{if(cr(n,e))return i[e]=1,n[e];if(r!==_e&&de(r,e))return i[e]=2,r[e];if((c=t.propsOptions[0])&&de(c,e))return i[e]=3,o[e];if(s!==_e&&de(s,e))return i[e]=4,s[e];xr&&(i[e]=0)}}const u=Bs[e];let d,f;if(u)return e==="$attrs"&&De(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==_e&&de(s,e))return i[e]=4,s[e];if(f=l.config.globalProperties,de(f,e))return f[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:o}=t;return cr(r,e)?(r[e]=s,!0):n!==_e&&de(n,e)?(n[e]=s,!0):de(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:o}},i){let a;return!!s[i]||t!==_e&&de(t,i)||cr(e,i)||(a=o[0])&&de(a,i)||de(n,i)||de(Bs,i)||de(r.config.globalProperties,i)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:de(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function jo(t){return W(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let xr=!0;function Kc(t){const e=co(t),s=t.proxy,n=t.ctx;xr=!1,e.beforeCreate&&Io(e.beforeCreate,t,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:m,updated:y,activated:_,deactivated:T,beforeDestroy:O,beforeUnmount:b,destroyed:E,unmounted:x,render:P,renderTracked:K,renderTriggered:z,errorCaptured:H,serverPrefetch:j,expose:Q,inheritAttrs:me,components:fe,directives:le,filters:ke}=e;if(c&&zc(c,n,null),i)for(const G in i){const se=i[G];Z(se)&&(n[G]=se.bind(s))}if(r){const G=r.call(s,s);Ee(G)&&(t.data=on(G))}if(xr=!0,o)for(const G in o){const se=o[G],He=Z(se)?se.bind(s,s):Z(se.get)?se.get.bind(s,s):ut,ce=!Z(se)&&Z(se.set)?se.set.bind(s):ut,Qe=X({get:He,set:ce});Object.defineProperty(n,G,{enumerable:!0,configurable:!0,get:()=>Qe.value,set:Ue=>Qe.value=Ue})}if(a)for(const G in a)Ca(a[G],n,s,G);if(l){const G=Z(l)?l.call(s):l;Reflect.ownKeys(G).forEach(se=>{Sn(se,G[se])})}u&&Io(u,t,"c");function te(G,se){W(se)?se.forEach(He=>G(He.bind(s))):se&&G(se.bind(s))}if(te($c,d),te(ns,f),te(Lc,m),te(Mc,y),te(Rc,_),te(jc,T),te(Bc,H),te(Fc,K),te(Uc,z),te(Dc,b),te(Ea,x),te(Nc,j),W(Q))if(Q.length){const G=t.exposed||(t.exposed={});Q.forEach(se=>{Object.defineProperty(G,se,{get:()=>s[se],set:He=>s[se]=He})})}else t.exposed||(t.exposed={});P&&t.render===ut&&(t.render=P),me!=null&&(t.inheritAttrs=me),fe&&(t.components=fe),le&&(t.directives=le),j&&ba(t)}function zc(t,e,s=ut){W(t)&&(t=Or(t));for(const n in t){const r=t[n];let o;Ee(r)?"default"in r?o=nt(r.from||n,r.default,!0):o=nt(r.from||n):o=nt(r),Ae(o)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[n]=o}}function Io(t,e,s){_t(W(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function Ca(t,e,s,n){let r=n.includes(".")?Ua(s,n):()=>s[n];if(Pe(t)){const o=e[t];Z(o)&&vs(r,o)}else if(Z(t))vs(r,t.bind(s));else if(Ee(t))if(W(t))t.forEach(o=>Ca(o,e,s,n));else{const o=Z(t.handler)?t.handler.bind(s):e[t.handler];Z(o)&&vs(r,o,t)}}function co(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let l;return a?l=a:!r.length&&!s&&!n?l=e:(l={},r.length&&r.forEach(c=>Rn(l,c,i,!0)),Rn(l,e,i)),Ee(e)&&o.set(e,l),l}function Rn(t,e,s,n=!1){const{mixins:r,extends:o}=e;o&&Rn(t,o,s,!0),r&&r.forEach(i=>Rn(t,i,s,!0));for(const i in e)if(!(n&&i==="expose")){const a=Wc[i]||s&&s[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const Wc={data:$o,props:Lo,emits:Lo,methods:Ls,computed:Ls,beforeCreate:Fe,created:Fe,beforeMount:Fe,mounted:Fe,beforeUpdate:Fe,updated:Fe,beforeDestroy:Fe,beforeUnmount:Fe,destroyed:Fe,unmounted:Fe,activated:Fe,deactivated:Fe,errorCaptured:Fe,serverPrefetch:Fe,components:Ls,directives:Ls,watch:Jc,provide:$o,inject:Gc};function $o(t,e){return e?t?function(){return $e(Z(t)?t.call(this,this):t,Z(e)?e.call(this,this):e)}:e:t}function Gc(t,e){return Ls(Or(t),Or(e))}function Or(t){if(W(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Fe(t,e){return t?[...new Set([].concat(t,e))]:e}function Ls(t,e){return t?$e(Object.create(null),t,e):e}function Lo(t,e){return t?W(t)&&W(e)?[...new Set([...t,...e])]:$e(Object.create(null),jo(t),jo(e??{})):e}function Jc(t,e){if(!t)return e;if(!e)return t;const s=$e(Object.create(null),t);for(const n in e)s[n]=Fe(t[n],e[n]);return s}function Ta(){return{app:null,config:{isNativeTag:Dl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Qc=0;function Yc(t,e){return function(n,r=null){Z(n)||(n=$e({},n)),r!=null&&!Ee(r)&&(r=null);const o=Ta(),i=new WeakSet,a=[];let l=!1;const c=o.app={_uid:Qc++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Nu,get config(){return o.config},set config(u){},use(u,...d){return i.has(u)||(u&&Z(u.install)?(i.add(u),u.install(c,...d)):Z(u)&&(i.add(u),u(c,...d))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,d){return d?(o.components[u]=d,c):o.components[u]},directive(u,d){return d?(o.directives[u]=d,c):o.directives[u]},mount(u,d,f){if(!l){const m=c._ceVNode||ye(n,r);return m.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),d&&e?e(m,u):t(m,u,f),l=!0,c._container=u,u.__vue_app__=c,Wn(m.component)}},onUnmount(u){a.push(u)},unmount(){l&&(_t(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return o.provides[u]=d,c},runWithContext(u){const d=Zt;Zt=c;try{return u()}finally{Zt=d}}};return c}}let Zt=null;function Sn(t,e){if(Le){let s=Le.provides;const n=Le.parent&&Le.parent.provides;n===s&&(s=Le.provides=Object.create(n)),s[t]=e}}function nt(t,e,s=!1){const n=Le||We;if(n||Zt){const r=Zt?Zt._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&Z(e)?e.call(n&&n.proxy):e}}function Xc(){return!!(Le||We||Zt)}const Aa={},Pa=()=>Object.create(Aa),xa=t=>Object.getPrototypeOf(t)===Aa;function Zc(t,e,s,n=!1){const r={},o=Pa();t.propsDefaults=Object.create(null),Oa(t,e,r,o);for(const i in t.propsOptions[0])i in r||(r[i]=void 0);s?t.props=n?r:ua(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function eu(t,e,s,n){const{props:r,attrs:o,vnode:{patchFlag:i}}=t,a=ae(r),[l]=t.propsOptions;let c=!1;if((n||i>0)&&!(i&16)){if(i&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Kn(t.emitsOptions,f))continue;const m=e[f];if(l)if(de(o,f))m!==o[f]&&(o[f]=m,c=!0);else{const y=rt(f);r[y]=Rr(l,a,y,m,t,!1)}else m!==o[f]&&(o[f]=m,c=!0)}}}else{Oa(t,e,r,o)&&(c=!0);let u;for(const d in a)(!e||!de(e,d)&&((u=ss(d))===d||!de(e,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(r[d]=Rr(l,a,d,void 0,t,!0)):delete r[d]);if(o!==a)for(const d in o)(!e||!de(e,d))&&(delete o[d],c=!0)}c&&Et(t.attrs,"set","")}function Oa(t,e,s,n){const[r,o]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(Ds(l))continue;const c=e[l];let u;r&&de(r,u=rt(l))?!o||!o.includes(u)?s[u]=c:(a||(a={}))[u]=c:Kn(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,i=!0)}if(o){const l=ae(s),c=a||_e;for(let u=0;u<o.length;u++){const d=o[u];s[d]=Rr(r,l,d,c[d],t,!de(c,d))}}return i}function Rr(t,e,s,n,r,o){const i=t[s];if(i!=null){const a=de(i,"default");if(a&&n===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&Z(l)){const{propsDefaults:c}=r;if(s in c)n=c[s];else{const u=cn(r);n=c[s]=l.call(null,e),u()}}else n=l;r.ce&&r.ce._setProp(s,n)}i[0]&&(o&&!a?n=!1:i[1]&&(n===""||n===ss(s))&&(n=!0))}return n}const tu=new WeakMap;function Ra(t,e,s=!1){const n=s?tu:e.propsCache,r=n.get(t);if(r)return r;const o=t.props,i={},a=[];let l=!1;if(!Z(t)){const u=d=>{l=!0;const[f,m]=Ra(d,e,!0);$e(i,f),m&&a.push(...m)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return Ee(t)&&n.set(t,fs),fs;if(W(o))for(let u=0;u<o.length;u++){const d=rt(o[u]);Mo(d)&&(i[d]=_e)}else if(o)for(const u in o){const d=rt(u);if(Mo(d)){const f=o[u],m=i[d]=W(f)||Z(f)?{type:f}:$e({},f),y=m.type;let _=!1,T=!0;if(W(y))for(let O=0;O<y.length;++O){const b=y[O],E=Z(b)&&b.name;if(E==="Boolean"){_=!0;break}else E==="String"&&(T=!1)}else _=Z(y)&&y.name==="Boolean";m[0]=_,m[1]=T,(_||de(m,"default"))&&a.push(d)}}const c=[i,a];return Ee(t)&&n.set(t,c),c}function Mo(t){return t[0]!=="$"&&!Ds(t)}const ja=t=>t[0]==="_"||t==="$stable",uo=t=>W(t)?t.map(lt):[lt(t)],su=(t,e,s)=>{if(e._n)return e;const n=ze((...r)=>uo(e(...r)),s);return n._c=!1,n},Ia=(t,e,s)=>{const n=t._ctx;for(const r in t){if(ja(r))continue;const o=t[r];if(Z(o))e[r]=su(r,o,n);else if(o!=null){const i=uo(o);e[r]=()=>i}}},$a=(t,e)=>{const s=uo(e);t.slots.default=()=>s},La=(t,e,s)=>{for(const n in e)(s||n!=="_")&&(t[n]=e[n])},nu=(t,e,s)=>{const n=t.slots=Pa();if(t.vnode.shapeFlag&32){const r=e._;r?(La(n,e,s),s&&Hi(n,"_",r,!0)):Ia(e,n)}else e&&$a(t,e)},ru=(t,e,s)=>{const{vnode:n,slots:r}=t;let o=!0,i=_e;if(n.shapeFlag&32){const a=e._;a?s&&a===1?o=!1:La(r,e,s):(o=!e.$stable,Ia(e,r)),i=e}else e&&($a(t,e),i={default:1});if(o)for(const a in r)!ja(a)&&i[a]==null&&delete r[a]},et=ku;function ou(t){return iu(t)}function iu(t,e){const s=Fn();s.__VUE__=!0;const{insert:n,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:m=ut,insertStaticContent:y}=t,_=(p,g,v,k=null,w=null,C=null,U=void 0,$=null,R=!!g.dynamicChildren)=>{if(p===g)return;p&&!Mt(p,g)&&(k=S(p),Ue(p,w,C,!0),p=null),g.patchFlag===-2&&(R=!1,g.dynamicChildren=null);const{type:A,ref:J,shapeFlag:F}=g;switch(A){case zn:T(p,g,v,k);break;case Tt:O(p,g,v,k);break;case hr:p==null&&b(g,v,k,U);break;case ge:fe(p,g,v,k,w,C,U,$,R);break;default:F&1?P(p,g,v,k,w,C,U,$,R):F&6?le(p,g,v,k,w,C,U,$,R):(F&64||F&128)&&A.process(p,g,v,k,w,C,U,$,R,V)}J!=null&&w&&On(J,p&&p.ref,C,g||p,!g)},T=(p,g,v,k)=>{if(p==null)n(g.el=a(g.children),v,k);else{const w=g.el=p.el;g.children!==p.children&&c(w,g.children)}},O=(p,g,v,k)=>{p==null?n(g.el=l(g.children||""),v,k):g.el=p.el},b=(p,g,v,k)=>{[p.el,p.anchor]=y(p.children,g,v,k,p.el,p.anchor)},E=({el:p,anchor:g},v,k)=>{let w;for(;p&&p!==g;)w=f(p),n(p,v,k),p=w;n(g,v,k)},x=({el:p,anchor:g})=>{let v;for(;p&&p!==g;)v=f(p),r(p),p=v;r(g)},P=(p,g,v,k,w,C,U,$,R)=>{g.type==="svg"?U="svg":g.type==="math"&&(U="mathml"),p==null?K(g,v,k,w,C,U,$,R):j(p,g,w,C,U,$,R)},K=(p,g,v,k,w,C,U,$)=>{let R,A;const{props:J,shapeFlag:F,transition:q,dirs:Y}=p;if(R=p.el=i(p.type,C,J&&J.is,J),F&8?u(R,p.children):F&16&&H(p.children,R,null,k,w,ur(p,C),U,$),Y&&qt(p,null,k,"created"),z(R,p,p.scopeId,U,k),J){for(const be in J)be!=="value"&&!Ds(be)&&o(R,be,null,J[be],C,k);"value"in J&&o(R,"value",null,J.value,C),(A=J.onVnodeBeforeMount)&&pt(A,k,p)}Y&&qt(p,null,k,"beforeMount");const re=au(w,q);re&&q.beforeEnter(R),n(R,g,v),((A=J&&J.onVnodeMounted)||re||Y)&&et(()=>{A&&pt(A,k,p),re&&q.enter(R),Y&&qt(p,null,k,"mounted")},w)},z=(p,g,v,k,w)=>{if(v&&m(p,v),k)for(let C=0;C<k.length;C++)m(p,k[C]);if(w){let C=w.subTree;if(g===C||Ba(C.type)&&(C.ssContent===g||C.ssFallback===g)){const U=w.vnode;z(p,U,U.scopeId,U.slotScopeIds,w.parent)}}},H=(p,g,v,k,w,C,U,$,R=0)=>{for(let A=R;A<p.length;A++){const J=p[A]=$?It(p[A]):lt(p[A]);_(null,J,g,v,k,w,C,U,$)}},j=(p,g,v,k,w,C,U)=>{const $=g.el=p.el;let{patchFlag:R,dynamicChildren:A,dirs:J}=g;R|=p.patchFlag&16;const F=p.props||_e,q=g.props||_e;let Y;if(v&&Kt(v,!1),(Y=q.onVnodeBeforeUpdate)&&pt(Y,v,g,p),J&&qt(g,p,v,"beforeUpdate"),v&&Kt(v,!0),(F.innerHTML&&q.innerHTML==null||F.textContent&&q.textContent==null)&&u($,""),A?Q(p.dynamicChildren,A,$,v,k,ur(g,w),C):U||se(p,g,$,null,v,k,ur(g,w),C,!1),R>0){if(R&16)me($,F,q,v,w);else if(R&2&&F.class!==q.class&&o($,"class",null,q.class,w),R&4&&o($,"style",F.style,q.style,w),R&8){const re=g.dynamicProps;for(let be=0;be<re.length;be++){const pe=re[be],Ye=F[pe],Me=q[pe];(Me!==Ye||pe==="value")&&o($,pe,Ye,Me,w,v)}}R&1&&p.children!==g.children&&u($,g.children)}else!U&&A==null&&me($,F,q,v,w);((Y=q.onVnodeUpdated)||J)&&et(()=>{Y&&pt(Y,v,g,p),J&&qt(g,p,v,"updated")},k)},Q=(p,g,v,k,w,C,U)=>{for(let $=0;$<g.length;$++){const R=p[$],A=g[$],J=R.el&&(R.type===ge||!Mt(R,A)||R.shapeFlag&70)?d(R.el):v;_(R,A,J,null,k,w,C,U,!0)}},me=(p,g,v,k,w)=>{if(g!==v){if(g!==_e)for(const C in g)!Ds(C)&&!(C in v)&&o(p,C,g[C],null,w,k);for(const C in v){if(Ds(C))continue;const U=v[C],$=g[C];U!==$&&C!=="value"&&o(p,C,$,U,w,k)}"value"in v&&o(p,"value",g.value,v.value,w)}},fe=(p,g,v,k,w,C,U,$,R)=>{const A=g.el=p?p.el:a(""),J=g.anchor=p?p.anchor:a("");let{patchFlag:F,dynamicChildren:q,slotScopeIds:Y}=g;Y&&($=$?$.concat(Y):Y),p==null?(n(A,v,k),n(J,v,k),H(g.children||[],v,J,w,C,U,$,R)):F>0&&F&64&&q&&p.dynamicChildren?(Q(p.dynamicChildren,q,v,w,C,U,$),(g.key!=null||w&&g===w.subTree)&&Ma(p,g,!0)):se(p,g,v,J,w,C,U,$,R)},le=(p,g,v,k,w,C,U,$,R)=>{g.slotScopeIds=$,p==null?g.shapeFlag&512?w.ctx.activate(g,v,k,U,R):ke(g,v,k,w,C,U,R):xe(p,g,R)},ke=(p,g,v,k,w,C,U)=>{const $=p.component=Ru(p,k,w);if(wa(p)&&($.ctx.renderer=V),ju($,!1,U),$.asyncDep){if(w&&w.registerDep($,te,U),!p.el){const R=$.subTree=ye(Tt);O(null,R,g,v)}}else te($,p,g,v,w,C,U)},xe=(p,g,v)=>{const k=g.component=p.component;if(vu(p,g,v))if(k.asyncDep&&!k.asyncResolved){G(k,g,v);return}else k.next=g,k.update();else g.el=p.el,k.vnode=g},te=(p,g,v,k,w,C,U)=>{const $=()=>{if(p.isMounted){let{next:F,bu:q,u:Y,parent:re,vnode:be}=p;{const Xe=Da(p);if(Xe){F&&(F.el=be.el,G(p,F,U)),Xe.asyncDep.then(()=>{p.isUnmounted||$()});return}}let pe=F,Ye;Kt(p,!1),F?(F.el=be.el,G(p,F,U)):F=be,q&&wn(q),(Ye=F.props&&F.props.onVnodeBeforeUpdate)&&pt(Ye,re,F,be),Kt(p,!0);const Me=dr(p),it=p.subTree;p.subTree=Me,_(it,Me,d(it.el),S(it),p,w,C),F.el=Me.el,pe===null&&ho(p,Me.el),Y&&et(Y,w),(Ye=F.props&&F.props.onVnodeUpdated)&&et(()=>pt(Ye,re,F,be),w)}else{let F;const{el:q,props:Y}=g,{bm:re,m:be,parent:pe,root:Ye,type:Me}=p,it=Fs(g);if(Kt(p,!1),re&&wn(re),!it&&(F=Y&&Y.onVnodeBeforeMount)&&pt(F,pe,g),Kt(p,!0),q&&Ce){const Xe=()=>{p.subTree=dr(p),Ce(q,p.subTree,p,w,null)};it&&Me.__asyncHydrate?Me.__asyncHydrate(q,p,Xe):Xe()}else{Ye.ce&&Ye.ce._injectChildStyle(Me);const Xe=p.subTree=dr(p);_(null,Xe,v,k,p,w,C),g.el=Xe.el}if(be&&et(be,w),!it&&(F=Y&&Y.onVnodeMounted)){const Xe=g;et(()=>pt(F,pe,Xe),w)}(g.shapeFlag&256||pe&&Fs(pe.vnode)&&pe.vnode.shapeFlag&256)&&p.a&&et(p.a,w),p.isMounted=!0,g=v=k=null}};p.scope.on();const R=p.effect=new Qi($);p.scope.off();const A=p.update=R.run.bind(R),J=p.job=R.runIfDirty.bind(R);J.i=p,J.id=p.uid,R.scheduler=()=>ao(J),Kt(p,!0),A()},G=(p,g,v)=>{g.component=p;const k=p.vnode.props;p.vnode=g,p.next=null,eu(p,g.props,k,v),ru(p,g.children,v),Ft(),Oo(p),Bt()},se=(p,g,v,k,w,C,U,$,R=!1)=>{const A=p&&p.children,J=p?p.shapeFlag:0,F=g.children,{patchFlag:q,shapeFlag:Y}=g;if(q>0){if(q&128){ce(A,F,v,k,w,C,U,$,R);return}else if(q&256){He(A,F,v,k,w,C,U,$,R);return}}Y&8?(J&16&&ve(A,w,C),F!==A&&u(v,F)):J&16?Y&16?ce(A,F,v,k,w,C,U,$,R):ve(A,w,C,!0):(J&8&&u(v,""),Y&16&&H(F,v,k,w,C,U,$,R))},He=(p,g,v,k,w,C,U,$,R)=>{p=p||fs,g=g||fs;const A=p.length,J=g.length,F=Math.min(A,J);let q;for(q=0;q<F;q++){const Y=g[q]=R?It(g[q]):lt(g[q]);_(p[q],Y,v,null,w,C,U,$,R)}A>J?ve(p,w,C,!0,!1,F):H(g,v,k,w,C,U,$,R,F)},ce=(p,g,v,k,w,C,U,$,R)=>{let A=0;const J=g.length;let F=p.length-1,q=J-1;for(;A<=F&&A<=q;){const Y=p[A],re=g[A]=R?It(g[A]):lt(g[A]);if(Mt(Y,re))_(Y,re,v,null,w,C,U,$,R);else break;A++}for(;A<=F&&A<=q;){const Y=p[F],re=g[q]=R?It(g[q]):lt(g[q]);if(Mt(Y,re))_(Y,re,v,null,w,C,U,$,R);else break;F--,q--}if(A>F){if(A<=q){const Y=q+1,re=Y<J?g[Y].el:k;for(;A<=q;)_(null,g[A]=R?It(g[A]):lt(g[A]),v,re,w,C,U,$,R),A++}}else if(A>q)for(;A<=F;)Ue(p[A],w,C,!0),A++;else{const Y=A,re=A,be=new Map;for(A=re;A<=q;A++){const Ze=g[A]=R?It(g[A]):lt(g[A]);Ze.key!=null&&be.set(Ze.key,A)}let pe,Ye=0;const Me=q-re+1;let it=!1,Xe=0;const Os=new Array(Me);for(A=0;A<Me;A++)Os[A]=0;for(A=Y;A<=F;A++){const Ze=p[A];if(Ye>=Me){Ue(Ze,w,C,!0);continue}let ft;if(Ze.key!=null)ft=be.get(Ze.key);else for(pe=re;pe<=q;pe++)if(Os[pe-re]===0&&Mt(Ze,g[pe])){ft=pe;break}ft===void 0?Ue(Ze,w,C,!0):(Os[ft-re]=A+1,ft>=Xe?Xe=ft:it=!0,_(Ze,g[ft],v,null,w,C,U,$,R),Ye++)}const ko=it?lu(Os):fs;for(pe=ko.length-1,A=Me-1;A>=0;A--){const Ze=re+A,ft=g[Ze],Co=Ze+1<J?g[Ze+1].el:k;Os[A]===0?_(null,ft,v,Co,w,C,U,$,R):it&&(pe<0||A!==ko[pe]?Qe(ft,v,Co,2):pe--)}}},Qe=(p,g,v,k,w=null)=>{const{el:C,type:U,transition:$,children:R,shapeFlag:A}=p;if(A&6){Qe(p.component.subTree,g,v,k);return}if(A&128){p.suspense.move(g,v,k);return}if(A&64){U.move(p,g,v,V);return}if(U===ge){n(C,g,v);for(let F=0;F<R.length;F++)Qe(R[F],g,v,k);n(p.anchor,g,v);return}if(U===hr){E(p,g,v);return}if(k!==2&&A&1&&$)if(k===0)$.beforeEnter(C),n(C,g,v),et(()=>$.enter(C),w);else{const{leave:F,delayLeave:q,afterLeave:Y}=$,re=()=>n(C,g,v),be=()=>{F(C,()=>{re(),Y&&Y()})};q?q(C,re,be):be()}else n(C,g,v)},Ue=(p,g,v,k=!1,w=!1)=>{const{type:C,props:U,ref:$,children:R,dynamicChildren:A,shapeFlag:J,patchFlag:F,dirs:q,cacheIndex:Y}=p;if(F===-2&&(w=!1),$!=null&&On($,null,v,p,!0),Y!=null&&(g.renderCache[Y]=void 0),J&256){g.ctx.deactivate(p);return}const re=J&1&&q,be=!Fs(p);let pe;if(be&&(pe=U&&U.onVnodeBeforeUnmount)&&pt(pe,g,p),J&6)oe(p.component,v,k);else{if(J&128){p.suspense.unmount(v,k);return}re&&qt(p,null,g,"beforeUnmount"),J&64?p.type.remove(p,g,v,V,k):A&&!A.hasOnce&&(C!==ge||F>0&&F&64)?ve(A,g,v,!1,!0):(C===ge&&F&384||!w&&J&16)&&ve(R,g,v),k&&Ht(p)}(be&&(pe=U&&U.onVnodeUnmounted)||re)&&et(()=>{pe&&pt(pe,g,p),re&&qt(p,null,g,"unmounted")},v)},Ht=p=>{const{type:g,el:v,anchor:k,transition:w}=p;if(g===ge){L(v,k);return}if(g===hr){x(p);return}const C=()=>{r(v),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(p.shapeFlag&1&&w&&!w.persisted){const{leave:U,delayLeave:$}=w,R=()=>U(v,C);$?$(p.el,C,R):R()}else C()},L=(p,g)=>{let v;for(;p!==g;)v=f(p),r(p),p=v;r(g)},oe=(p,g,v)=>{const{bum:k,scope:w,job:C,subTree:U,um:$,m:R,a:A}=p;Do(R),Do(A),k&&wn(k),w.stop(),C&&(C.flags|=8,Ue(U,p,g,v)),$&&et($,g),et(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},ve=(p,g,v,k=!1,w=!1,C=0)=>{for(let U=C;U<p.length;U++)Ue(p[U],g,v,k,w)},S=p=>{if(p.shapeFlag&6)return S(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=f(p.anchor||p.el),v=g&&g[xc];return v?f(v):g};let N=!1;const M=(p,g,v)=>{p==null?g._vnode&&Ue(g._vnode,null,null,!0):_(g._vnode||null,p,g,null,null,null,v),g._vnode=p,N||(N=!0,Oo(),ma(),N=!1)},V={p:_,um:Ue,m:Qe,r:Ht,mt:ke,mc:H,pc:se,pbc:Q,n:S,o:t};let ie,Ce;return e&&([ie,Ce]=e(V)),{render:M,hydrate:ie,createApp:Yc(M,ie)}}function ur({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Kt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function au(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ma(t,e,s=!1){const n=t.children,r=e.children;if(W(n)&&W(r))for(let o=0;o<n.length;o++){const i=n[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=It(r[o]),a.el=i.el),!s&&a.patchFlag!==-2&&Ma(i,a)),a.type===zn&&(a.el=i.el)}}function lu(t){const e=t.slice(),s=[0];let n,r,o,i,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(r=s[s.length-1],t[r]<c){e[n]=r,s.push(n);continue}for(o=0,i=s.length-1;o<i;)a=o+i>>1,t[s[a]]<c?o=a+1:i=a;c<t[s[o]]&&(o>0&&(e[n]=s[o-1]),s[o]=n)}}for(o=s.length,i=s[o-1];o-- >0;)s[o]=i,i=e[i];return s}function Da(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Da(e)}function Do(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const cu=Symbol.for("v-scx"),uu=()=>nt(cu);function vs(t,e,s){return Na(t,e,s)}function Na(t,e,s=_e){const{immediate:n,deep:r,flush:o,once:i}=s,a=$e({},s),l=e&&n||!e&&o!=="post";let c;if(en){if(o==="sync"){const m=uu();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=ut,m.resume=ut,m.pause=ut,m}}const u=Le;a.call=(m,y,_)=>_t(m,u,y,_);let d=!1;o==="post"?a.scheduler=m=>{et(m,u&&u.suspense)}:o!=="sync"&&(d=!0,a.scheduler=(m,y)=>{y?m():ao(m)}),a.augmentJob=m=>{e&&(m.flags|=4),d&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const f=Tc(t,e,a);return en&&(c?c.push(f):l&&f()),f}function du(t,e,s){const n=this.proxy,r=Pe(t)?t.includes(".")?Ua(n,t):()=>n[t]:t.bind(n,n);let o;Z(e)?o=e:(o=e.handler,s=e);const i=cn(this),a=Na(r,o.bind(n),s);return i(),a}function Ua(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const hu=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${rt(e)}Modifiers`]||t[`${ss(e)}Modifiers`];function fu(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||_e;let r=s;const o=e.startsWith("update:"),i=o&&hu(n,e.slice(7));i&&(i.trim&&(r=s.map(u=>Pe(u)?u.trim():u)),i.number&&(r=s.map(Cn)));let a,l=n[a=rr(e)]||n[a=rr(rt(e))];!l&&o&&(l=n[a=rr(ss(e))]),l&&_t(l,t,6,r);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,_t(c,t,6,r)}}function Fa(t,e,s=!1){const n=e.emitsCache,r=n.get(t);if(r!==void 0)return r;const o=t.emits;let i={},a=!1;if(!Z(t)){const l=c=>{const u=Fa(c,e,!0);u&&(a=!0,$e(i,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Ee(t)&&n.set(t,null),null):(W(o)?o.forEach(l=>i[l]=null):$e(i,o),Ee(t)&&n.set(t,i),i)}function Kn(t,e){return!t||!Mn(e)?!1:(e=e.slice(2).replace(/Once$/,""),de(t,e[0].toLowerCase()+e.slice(1))||de(t,ss(e))||de(t,e))}function dr(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[o],slots:i,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:m,ctx:y,inheritAttrs:_}=t,T=xn(t);let O,b;try{if(s.shapeFlag&4){const x=r||n,P=x;O=lt(c.call(P,x,u,d,m,f,y)),b=a}else{const x=e;O=lt(x.length>1?x(d,{attrs:a,slots:i,emit:l}):x(d,null)),b=e.props?a:gu(a)}}catch(x){Vs.length=0,ln(x,t,1),O=ye(Tt)}let E=O;if(b&&_!==!1){const x=Object.keys(b),{shapeFlag:P}=E;x.length&&P&7&&(o&&x.some(Jr)&&(b=mu(b,o)),E=Ss(E,b,!1,!0))}return s.dirs&&(E=Ss(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(s.dirs):s.dirs),s.transition&&lo(E,s.transition),O=E,xn(T),O}function pu(t,e=!0){let s;for(let n=0;n<t.length;n++){const r=t[n];if(Zs(r)){if(r.type!==Tt||r.children==="v-if"){if(s)return;s=r}}else return}return s}const gu=t=>{let e;for(const s in t)(s==="class"||s==="style"||Mn(s))&&((e||(e={}))[s]=t[s]);return e},mu=(t,e)=>{const s={};for(const n in t)(!Jr(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function vu(t,e,s){const{props:n,children:r,component:o}=t,{props:i,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?No(n,i,c):!!i;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(i[f]!==n[f]&&!Kn(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===i?!1:n?i?No(n,i,c):!0:!!i;return!1}function No(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const o=n[r];if(e[o]!==t[o]&&!Kn(s,o))return!0}return!1}function ho({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ba=t=>t.__isSuspense;let jr=0;const _u={name:"Suspense",__isSuspense:!0,process(t,e,s,n,r,o,i,a,l,c){if(t==null)bu(e,s,n,r,o,i,a,l,c);else{if(o&&o.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}wu(t,e,s,n,r,i,a,l,c)}},hydrate:Su,normalize:Eu},yu=_u;function Xs(t,e){const s=t.props&&t.props[e];Z(s)&&s()}function bu(t,e,s,n,r,o,i,a,l){const{p:c,o:{createElement:u}}=l,d=u("div"),f=t.suspense=Va(t,r,n,e,d,s,o,i,a,l);c(null,f.pendingBranch=t.ssContent,d,null,n,f,o,i),f.deps>0?(Xs(t,"onPending"),Xs(t,"onFallback"),c(null,t.ssFallback,e,s,n,null,o,i),_s(f,t.ssFallback)):f.resolve(!1,!0)}function wu(t,e,s,n,r,o,i,a,{p:l,um:c,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,m=e.ssFallback,{activeBranch:y,pendingBranch:_,isInFallback:T,isHydrating:O}=d;if(_)d.pendingBranch=f,Mt(f,_)?(l(_,f,d.hiddenContainer,null,r,d,o,i,a),d.deps<=0?d.resolve():T&&(O||(l(y,m,s,n,r,null,o,i,a),_s(d,m)))):(d.pendingId=jr++,O?(d.isHydrating=!1,d.activeBranch=_):c(_,r,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),T?(l(null,f,d.hiddenContainer,null,r,d,o,i,a),d.deps<=0?d.resolve():(l(y,m,s,n,r,null,o,i,a),_s(d,m))):y&&Mt(f,y)?(l(y,f,s,n,r,d,o,i,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,r,d,o,i,a),d.deps<=0&&d.resolve()));else if(y&&Mt(f,y))l(y,f,s,n,r,d,o,i,a),_s(d,f);else if(Xs(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=jr++,l(null,f,d.hiddenContainer,null,r,d,o,i,a),d.deps<=0)d.resolve();else{const{timeout:b,pendingId:E}=d;b>0?setTimeout(()=>{d.pendingId===E&&d.fallback(m)},b):b===0&&d.fallback(m)}}function Va(t,e,s,n,r,o,i,a,l,c,u=!1){const{p:d,m:f,um:m,n:y,o:{parentNode:_,remove:T}}=c;let O;const b=Cu(t);b&&e&&e.pendingBranch&&(O=e.pendingId,e.deps++);const E=t.props?Vl(t.props.timeout):void 0,x=o,P={vnode:t,parent:e,parentComponent:s,namespace:i,container:n,hiddenContainer:r,deps:0,pendingId:jr++,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(K=!1,z=!1){const{vnode:H,activeBranch:j,pendingBranch:Q,pendingId:me,effects:fe,parentComponent:le,container:ke}=P;let xe=!1;P.isHydrating?P.isHydrating=!1:K||(xe=j&&Q.transition&&Q.transition.mode==="out-in",xe&&(j.transition.afterLeave=()=>{me===P.pendingId&&(f(Q,ke,o===x?y(j):o,0),Ar(fe))}),j&&(_(j.el)===ke&&(o=y(j)),m(j,le,P,!0)),xe||f(Q,ke,o,0)),_s(P,Q),P.pendingBranch=null,P.isInFallback=!1;let te=P.parent,G=!1;for(;te;){if(te.pendingBranch){te.effects.push(...fe),G=!0;break}te=te.parent}!G&&!xe&&Ar(fe),P.effects=[],b&&e&&e.pendingBranch&&O===e.pendingId&&(e.deps--,e.deps===0&&!z&&e.resolve()),Xs(H,"onResolve")},fallback(K){if(!P.pendingBranch)return;const{vnode:z,activeBranch:H,parentComponent:j,container:Q,namespace:me}=P;Xs(z,"onFallback");const fe=y(H),le=()=>{P.isInFallback&&(d(null,K,Q,fe,j,null,me,a,l),_s(P,K))},ke=K.transition&&K.transition.mode==="out-in";ke&&(H.transition.afterLeave=le),P.isInFallback=!0,m(H,j,null,!0),ke||le()},move(K,z,H){P.activeBranch&&f(P.activeBranch,K,z,H),P.container=K},next(){return P.activeBranch&&y(P.activeBranch)},registerDep(K,z,H){const j=!!P.pendingBranch;j&&P.deps++;const Q=K.vnode.el;K.asyncDep.catch(me=>{ln(me,K,0)}).then(me=>{if(K.isUnmounted||P.isUnmounted||P.pendingId!==K.suspenseId)return;K.asyncResolved=!0;const{vnode:fe}=K;$r(K,me,!1),Q&&(fe.el=Q);const le=!Q&&K.subTree.el;z(K,fe,_(Q||K.subTree.el),Q?null:y(K.subTree),P,i,H),le&&T(le),ho(K,fe.el),j&&--P.deps===0&&P.resolve()})},unmount(K,z){P.isUnmounted=!0,P.activeBranch&&m(P.activeBranch,s,K,z),P.pendingBranch&&m(P.pendingBranch,s,K,z)}};return P}function Su(t,e,s,n,r,o,i,a,l){const c=e.suspense=Va(e,n,s,t.parentNode,document.createElement("div"),null,r,o,i,a,!0),u=l(t,c.pendingBranch=e.ssContent,s,c,o,i);return c.deps===0&&c.resolve(!1,!0),u}function Eu(t){const{shapeFlag:e,children:s}=t,n=e&32;t.ssContent=Uo(n?s.default:s),t.ssFallback=n?Uo(s.fallback):ye(Tt)}function Uo(t){let e;if(Z(t)){const s=ws&&t._c;s&&(t._d=!1,I()),t=t(),s&&(t._d=!0,e=Ge,Ha())}return W(t)&&(t=pu(t)),t=lt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(s=>s!==t)),t}function ku(t,e){e&&e.pendingBranch?W(t)?e.effects.push(...t):e.effects.push(t):Ar(t)}function _s(t,e){t.activeBranch=e;const{vnode:s,parentComponent:n}=t;let r=e.el;for(;!r&&e.component;)e=e.component.subTree,r=e.el;s.el=r,n&&n.subTree===s&&(n.vnode.el=r,ho(n,r))}function Cu(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const ge=Symbol.for("v-fgt"),zn=Symbol.for("v-txt"),Tt=Symbol.for("v-cmt"),hr=Symbol.for("v-stc"),Vs=[];let Ge=null;function I(t=!1){Vs.push(Ge=t?null:[])}function Ha(){Vs.pop(),Ge=Vs[Vs.length-1]||null}let ws=1;function Fo(t,e=!1){ws+=t,t<0&&Ge&&e&&(Ge.hasOnce=!0)}function qa(t){return t.dynamicChildren=ws>0?Ge||fs:null,Ha(),ws>0&&Ge&&Ge.push(t),t}function D(t,e,s,n,r,o){return qa(h(t,e,s,n,r,o,!0))}function Ka(t,e,s,n,r){return qa(ye(t,e,s,n,r,!0))}function Zs(t){return t?t.__v_isVNode===!0:!1}function Mt(t,e){return t.type===e.type&&t.key===e.key}const za=({key:t})=>t??null,En=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Pe(t)||Ae(t)||Z(t)?{i:We,r:t,k:e,f:!!s}:t:null);function h(t,e=null,s=null,n=0,r=null,o=t===ge?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&za(e),ref:e&&En(e),scopeId:_a,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:We};return a?(fo(l,s),o&128&&t.normalize(l)):s&&(l.shapeFlag|=Pe(s)?8:16),ws>0&&!i&&Ge&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ge.push(l),l}const ye=Tu;function Tu(t,e=null,s=null,n=0,r=null,o=!1){if((!t||t===Vc)&&(t=Tt),Zs(t)){const a=Ss(t,e,!0);return s&&fo(a,s),ws>0&&!o&&Ge&&(a.shapeFlag&6?Ge[Ge.indexOf(t)]=a:Ge.push(a)),a.patchFlag=-2,a}if(Du(t)&&(t=t.__vccOpts),e){e=Au(e);let{class:a,style:l}=e;a&&!Pe(a)&&(e.class=Gs(a)),Ee(l)&&(oo(l)&&!W(l)&&(l=$e({},l)),e.style=Xr(l))}const i=Pe(t)?1:Ba(t)?128:Oc(t)?64:Ee(t)?4:Z(t)?2:0;return h(t,e,s,n,r,i,o,!0)}function Au(t){return t?oo(t)||xa(t)?$e({},t):t:null}function Ss(t,e,s=!1,n=!1){const{props:r,ref:o,patchFlag:i,children:a,transition:l}=t,c=e?Pu(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&za(c),ref:e&&e.ref?s&&o?W(o)?o.concat(En(e)):[o,En(e)]:En(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ge?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ss(t.ssContent),ssFallback:t.ssFallback&&Ss(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&lo(u,l.clone(u)),u}function Te(t=" ",e=0){return ye(zn,null,t,e)}function Oe(t="",e=!1){return e?(I(),Ka(Tt,null,t)):ye(Tt,null,t)}function lt(t){return t==null||typeof t=="boolean"?ye(Tt):W(t)?ye(ge,null,t.slice()):Zs(t)?It(t):ye(zn,null,String(t))}function It(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ss(t)}function fo(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(W(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),fo(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!xa(e)?e._ctx=We:r===3&&We&&(We.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Z(e)?(e={default:e,_ctx:We},s=32):(e=String(e),n&64?(s=16,e=[Te(e)]):s=8);t.children=e,t.shapeFlag|=s}function Pu(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=Gs([e.class,n.class]));else if(r==="style")e.style=Xr([e.style,n.style]);else if(Mn(r)){const o=e[r],i=n[r];i&&o!==i&&!(W(o)&&o.includes(i))&&(e[r]=o?[].concat(o,i):i)}else r!==""&&(e[r]=n[r])}return e}function pt(t,e,s,n=null){_t(t,e,7,[s,n])}const xu=Ta();let Ou=0;function Ru(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||xu,o={uid:Ou++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Wi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ra(n,r),emitsOptions:Fa(n,r),emit:null,emitted:null,propsDefaults:_e,inheritAttrs:n.inheritAttrs,ctx:_e,data:_e,props:_e,attrs:_e,slots:_e,refs:_e,setupState:_e,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=fu.bind(null,o),t.ce&&t.ce(o),o}let Le=null,jn,Ir;{const t=Fn(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};jn=e("__VUE_INSTANCE_SETTERS__",s=>Le=s),Ir=e("__VUE_SSR_SETTERS__",s=>en=s)}const cn=t=>{const e=Le;return jn(t),t.scope.on(),()=>{t.scope.off(),jn(e)}},Bo=()=>{Le&&Le.scope.off(),jn(null)};function Wa(t){return t.vnode.shapeFlag&4}let en=!1;function ju(t,e=!1,s=!1){e&&Ir(e);const{props:n,children:r}=t.vnode,o=Wa(t);Zc(t,n,o,e),nu(t,r,s);const i=o?Iu(t,e):void 0;return e&&Ir(!1),i}function Iu(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,qc);const{setup:n}=s;if(n){Ft();const r=t.setupContext=n.length>1?Lu(t):null,o=cn(t),i=an(n,t,0,[t.props,r]),a=Fi(i);if(Bt(),o(),(a||t.sp)&&!Fs(t)&&ba(t),a){if(i.then(Bo,Bo),e)return i.then(l=>{$r(t,l,e)}).catch(l=>{ln(l,t,0)});t.asyncDep=i}else $r(t,i,e)}else Ga(t,e)}function $r(t,e,s){Z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ee(e)&&(t.setupState=fa(e)),Ga(t,s)}let Vo;function Ga(t,e,s){const n=t.type;if(!t.render){if(!e&&Vo&&!n.render){const r=n.template||co(t).template;if(r){const{isCustomElement:o,compilerOptions:i}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,c=$e($e({isCustomElement:o,delimiters:a},i),l);n.render=Vo(r,c)}}t.render=n.render||ut}{const r=cn(t);Ft();try{Kc(t)}finally{Bt(),r()}}}const $u={get(t,e){return De(t,"get",""),t[e]}};function Lu(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,$u),slots:t.slots,emit:t.emit,expose:e}}function Wn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(fa(io(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Bs)return Bs[s](t)},has(e,s){return s in e||s in Bs}})):t.proxy}function Mu(t,e=!0){return Z(t)?t.displayName||t.name:t.name||e&&t.__name}function Du(t){return Z(t)&&"__vccOpts"in t}const X=(t,e)=>kc(t,e,en);function Ja(t,e,s){const n=arguments.length;return n===2?Ee(e)&&!W(e)?Zs(e)?ye(t,null,[e]):ye(t,e):ye(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Zs(s)&&(s=[s]),ye(t,e,s))}const Nu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Lr;const Ho=typeof window<"u"&&window.trustedTypes;if(Ho)try{Lr=Ho.createPolicy("vue",{createHTML:t=>t})}catch{}const Qa=Lr?t=>Lr.createHTML(t):t=>t,Uu="http://www.w3.org/2000/svg",Fu="http://www.w3.org/1998/Math/MathML",wt=typeof document<"u"?document:null,qo=wt&&wt.createElement("template"),Bu={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?wt.createElementNS(Uu,t):e==="mathml"?wt.createElementNS(Fu,t):s?wt.createElement(t,{is:s}):wt.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>wt.createTextNode(t),createComment:t=>wt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>wt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,o){const i=s?s.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===o||!(r=r.nextSibling)););else{qo.innerHTML=Qa(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=qo.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[i?i.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Vu=Symbol("_vtc");function Hu(t,e,s){const n=t[Vu];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Ko=Symbol("_vod"),qu=Symbol("_vsh"),Ku=Symbol(""),zu=/(^|;)\s*display\s*:/;function Wu(t,e,s){const n=t.style,r=Pe(s);let o=!1;if(s&&!r){if(e)if(Pe(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();s[a]==null&&kn(n,a,"")}else for(const i in e)s[i]==null&&kn(n,i,"");for(const i in s)i==="display"&&(o=!0),kn(n,i,s[i])}else if(r){if(e!==s){const i=n[Ku];i&&(s+=";"+i),n.cssText=s,o=zu.test(s)}}else e&&t.removeAttribute("style");Ko in t&&(t[Ko]=o?n.display:"",t[qu]&&(n.display="none"))}const zo=/\s*!important$/;function kn(t,e,s){if(W(s))s.forEach(n=>kn(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Gu(t,e);zo.test(s)?t.setProperty(ss(n),s.replace(zo,""),"important"):t[n]=s}}const Wo=["Webkit","Moz","ms"],fr={};function Gu(t,e){const s=fr[e];if(s)return s;let n=rt(e);if(n!=="filter"&&n in t)return fr[e]=n;n=Un(n);for(let r=0;r<Wo.length;r++){const o=Wo[r]+n;if(o in t)return fr[e]=o}return e}const Go="http://www.w3.org/1999/xlink";function Jo(t,e,s,n,r,o=Gl(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Go,e.slice(6,e.length)):t.setAttributeNS(Go,e,s):s==null||o&&!qi(s)?t.removeAttribute(e):t.setAttribute(e,o?"":vt(s)?String(s):s)}function Qo(t,e,s,n,r){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Qa(s):s);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let i=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=qi(s):s==null&&a==="string"?(s="",i=!0):a==="number"&&(s=0,i=!0)}try{t[e]=s}catch{}i&&t.removeAttribute(r||e)}function Jt(t,e,s,n){t.addEventListener(e,s,n)}function Ju(t,e,s,n){t.removeEventListener(e,s,n)}const Yo=Symbol("_vei");function Qu(t,e,s,n,r=null){const o=t[Yo]||(t[Yo]={}),i=o[e];if(n&&i)i.value=n;else{const[a,l]=Yu(e);if(n){const c=o[e]=ed(n,r);Jt(t,a,c,l)}else i&&(Ju(t,a,i,l),o[e]=void 0)}}const Xo=/(?:Once|Passive|Capture)$/;function Yu(t){let e;if(Xo.test(t)){e={};let n;for(;n=t.match(Xo);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ss(t.slice(2)),e]}let pr=0;const Xu=Promise.resolve(),Zu=()=>pr||(Xu.then(()=>pr=0),pr=Date.now());function ed(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;_t(td(n,s.value),e,5,[n])};return s.value=t,s.attached=Zu(),s}function td(t,e){if(W(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const Zo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,sd=(t,e,s,n,r,o)=>{const i=r==="svg";e==="class"?Hu(t,n,i):e==="style"?Wu(t,s,n):Mn(e)?Jr(e)||Qu(t,e,s,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):nd(t,e,n,i))?(Qo(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Jo(t,e,n,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Pe(n))?Qo(t,rt(e),n,o,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Jo(t,e,n,i))};function nd(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Zo(e)&&Z(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Zo(e)&&Pe(s)?!1:e in t}const In=t=>{const e=t.props["onUpdate:modelValue"]||!1;return W(e)?s=>wn(e,s):e};function rd(t){t.target.composing=!0}function ei(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ys=Symbol("_assign"),ct={created(t,{modifiers:{lazy:e,trim:s,number:n}},r){t[ys]=In(r);const o=n||r.props&&r.props.type==="number";Jt(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;s&&(a=a.trim()),o&&(a=Cn(a)),t[ys](a)}),s&&Jt(t,"change",()=>{t.value=t.value.trim()}),e||(Jt(t,"compositionstart",rd),Jt(t,"compositionend",ei),Jt(t,"change",ei))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:r,number:o}},i){if(t[ys]=In(i),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?Cn(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||r&&t.value.trim()===l)||(t.value=l))}},ts={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const r=Dn(e);Jt(t,"change",()=>{const o=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>s?Cn($n(i)):$n(i));t[ys](t.multiple?r?new Set(o):o:o[0]),t._assigning=!0,Hn(()=>{t._assigning=!1})}),t[ys]=In(n)},mounted(t,{value:e}){ti(t,e)},beforeUpdate(t,e,s){t[ys]=In(s)},updated(t,{value:e}){t._assigning||ti(t,e)}};function ti(t,e){const s=t.multiple,n=W(e);if(!(s&&!n&&!Dn(e))){for(let r=0,o=t.options.length;r<o;r++){const i=t.options[r],a=$n(i);if(s)if(n){const l=typeof a;l==="string"||l==="number"?i.selected=e.some(c=>String(c)===String(a)):i.selected=Ql(e,a)>-1}else i.selected=e.has(a);else if(Bn($n(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function $n(t){return"_value"in t?t._value:t.value}const od=["ctrl","shift","alt","meta"],id={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>od.some(s=>t[`${s}Key`]&&!e.includes(s))},Yt=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=(r,...o)=>{for(let i=0;i<e.length;i++){const a=id[e[i]];if(a&&a(r,e))return}return t(r,...o)})},ad=$e({patchProp:sd},Bu);let si;function ld(){return si||(si=ou(ad))}const cd=(...t)=>{const e=ld().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=dd(n);if(!r)return;const o=e._component;!Z(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=s(r,!1,ud(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},e};function ud(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function dd(t){return Pe(t)?document.querySelector(t):t}var hd=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Ya;const Gn=t=>Ya=t,Xa=Symbol();function Mr(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Hs;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Hs||(Hs={}));function fd(){const t=Gi(!0),e=t.run(()=>he({}));let s=[],n=[];const r=io({install(o){Gn(r),r._a=o,o.provide(Xa,r),o.config.globalProperties.$pinia=r,n.forEach(i=>s.push(i)),n=[]},use(o){return!this._a&&!hd?n.push(o):s.push(o),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return r}const Za=()=>{};function ni(t,e,s,n=Za){t.push(e);const r=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),n())};return!s&&Ji()&&Yl(r),r}function as(t,...e){t.slice().forEach(s=>{s(...e)})}const pd=t=>t(),ri=Symbol(),gr=Symbol();function Dr(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,n)=>t.set(n,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const n=e[s],r=t[s];Mr(r)&&Mr(n)&&t.hasOwnProperty(s)&&!Ae(n)&&!Ut(n)?t[s]=Dr(r,n):t[s]=n}return t}const gd=Symbol();function md(t){return!Mr(t)||!t.hasOwnProperty(gd)}const{assign:xt}=Object;function vd(t){return!!(Ae(t)&&t.effect)}function _d(t,e,s,n){const{state:r,actions:o,getters:i}=e,a=s.state.value[t];let l;function c(){a||(s.state.value[t]=r?r():{});const u=bc(s.state.value[t]);return xt(u,o,Object.keys(i||{}).reduce((d,f)=>(d[f]=io(X(()=>{Gn(s);const m=s._s.get(t);return i[f].call(m,m)})),d),{}))}return l=el(t,c,e,s,n,!0),l}function el(t,e,s={},n,r,o){let i;const a=xt({actions:{}},s),l={deep:!0};let c,u,d=[],f=[],m;const y=n.state.value[t];!o&&!y&&(n.state.value[t]={}),he({});let _;function T(H){let j;c=u=!1,typeof H=="function"?(H(n.state.value[t]),j={type:Hs.patchFunction,storeId:t,events:m}):(Dr(n.state.value[t],H),j={type:Hs.patchObject,payload:H,storeId:t,events:m});const Q=_=Symbol();Hn().then(()=>{_===Q&&(c=!0)}),u=!0,as(d,j,n.state.value[t])}const O=o?function(){const{state:j}=s,Q=j?j():{};this.$patch(me=>{xt(me,Q)})}:Za;function b(){i.stop(),d=[],f=[],n._s.delete(t)}const E=(H,j="")=>{if(ri in H)return H[gr]=j,H;const Q=function(){Gn(n);const me=Array.from(arguments),fe=[],le=[];function ke(G){fe.push(G)}function xe(G){le.push(G)}as(f,{args:me,name:Q[gr],store:P,after:ke,onError:xe});let te;try{te=H.apply(this&&this.$id===t?this:P,me)}catch(G){throw as(le,G),G}return te instanceof Promise?te.then(G=>(as(fe,G),G)).catch(G=>(as(le,G),Promise.reject(G))):(as(fe,te),te)};return Q[ri]=!0,Q[gr]=j,Q},x={_p:n,$id:t,$onAction:ni.bind(null,f),$patch:T,$reset:O,$subscribe(H,j={}){const Q=ni(d,H,j.detached,()=>me()),me=i.run(()=>vs(()=>n.state.value[t],fe=>{(j.flush==="sync"?u:c)&&H({storeId:t,type:Hs.direct,events:m},fe)},xt({},l,j)));return Q},$dispose:b},P=on(x);n._s.set(t,P);const z=(n._a&&n._a.runWithContext||pd)(()=>n._e.run(()=>(i=Gi()).run(()=>e({action:E}))));for(const H in z){const j=z[H];if(Ae(j)&&!vd(j)||Ut(j))o||(y&&md(j)&&(Ae(j)?j.value=y[H]:Dr(j,y[H])),n.state.value[t][H]=j);else if(typeof j=="function"){const Q=E(j,H);z[H]=Q,a.actions[H]=j}}return xt(P,z),xt(ae(P),z),Object.defineProperty(P,"$state",{get:()=>n.state.value[t],set:H=>{T(j=>{xt(j,H)})}}),n._p.forEach(H=>{xt(P,i.run(()=>H({store:P,app:n._a,pinia:n,options:a})))}),y&&o&&s.hydrate&&s.hydrate(P.$state,y),c=!0,u=!0,P}/*! #__NO_SIDE_EFFECTS__ */function po(t,e,s){let n,r;const o=typeof e=="function";typeof t=="string"?(n=t,r=o?s:e):(r=t,n=t.id);function i(a,l){const c=Xc();return a=a||(c?nt(Xa,null):null),a&&Gn(a),a=Ya,a._s.has(n)||(o?el(n,e,r,a):_d(n,r,a)),a._s.get(n)}return i.$id=n,i}const yd="/assets/logo-f9ff0060.svg";const Vt=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s},bd={name:"App"},wd={class:"app"},Sd={class:"navbar"},Ed={class:"nav-links"},kd={class:"content"};function Cd(t,e,s,n,r,o){const i=Ct("router-link"),a=Ct("router-view");return I(),D("div",wd,[h("nav",Sd,[e[3]||(e[3]=h("div",{class:"nav-brand"},[h("img",{src:yd,alt:"Attendance App",class:"logo"}),h("span",{class:"brand-name"},"Attendance App")],-1)),h("div",Ed,[ye(i,{to:"/",class:"nav-link","active-class":"active"},{default:ze(()=>e[0]||(e[0]=[h("i",{class:"fas fa-home"},null,-1),Te(" Dashboard ")])),_:1}),ye(i,{to:"/schools",class:"nav-link","active-class":"active"},{default:ze(()=>e[1]||(e[1]=[h("i",{class:"fas fa-school"},null,-1),Te(" Schools ")])),_:1}),ye(i,{to:"/students",class:"nav-link","active-class":"active"},{default:ze(()=>e[2]||(e[2]=[h("i",{class:"fas fa-user-graduate"},null,-1),Te(" Students ")])),_:1})]),e[4]||(e[4]=h("div",{class:"nav-user"},[h("button",{class:"theme-toggle"},[h("i",{class:"fas fa-moon"})])],-1))]),h("div",kd,[(I(),Ka(yu,null,{fallback:ze(()=>e[5]||(e[5]=[h("div",{class:"loading"},[h("div",{class:"spinner"}),Te(" Loading... ")],-1)])),default:ze(()=>[ye(a)]),_:1}))])])}const Td=Vt(bd,[["render",Cd]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const hs=typeof document<"u";function tl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Ad(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&tl(t.default)}const ue=Object.assign;function mr(t,e){const s={};for(const n in e){const r=e[n];s[n]=ht(r)?r.map(t):t(r)}return s}const qs=()=>{},ht=Array.isArray,sl=/#/g,Pd=/&/g,xd=/\//g,Od=/=/g,Rd=/\?/g,nl=/\+/g,jd=/%5B/g,Id=/%5D/g,rl=/%5E/g,$d=/%60/g,ol=/%7B/g,Ld=/%7C/g,il=/%7D/g,Md=/%20/g;function go(t){return encodeURI(""+t).replace(Ld,"|").replace(jd,"[").replace(Id,"]")}function Dd(t){return go(t).replace(ol,"{").replace(il,"}").replace(rl,"^")}function Nr(t){return go(t).replace(nl,"%2B").replace(Md,"+").replace(sl,"%23").replace(Pd,"%26").replace($d,"`").replace(ol,"{").replace(il,"}").replace(rl,"^")}function Nd(t){return Nr(t).replace(Od,"%3D")}function Ud(t){return go(t).replace(sl,"%23").replace(Rd,"%3F")}function Fd(t){return t==null?"":Ud(t).replace(xd,"%2F")}function tn(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Bd=/\/$/,Vd=t=>t.replace(Bd,"");function vr(t,e,s="/"){let n,r={},o="",i="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),r=t(o)),a>-1&&(n=n||e.slice(0,a),i=e.slice(a,e.length)),n=zd(n??e,s),{fullPath:n+(o&&"?")+o+i,path:n,query:r,hash:tn(i)}}function Hd(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function oi(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function qd(t,e,s){const n=e.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&Es(e.matched[n],s.matched[r])&&al(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Es(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function al(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Kd(t[s],e[s]))return!1;return!0}function Kd(t,e){return ht(t)?ii(t,e):ht(e)?ii(e,t):t===e}function ii(t,e){return ht(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function zd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let o=s.length-1,i,a;for(i=0;i<n.length;i++)if(a=n[i],a!==".")if(a==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+n.slice(i).join("/")}const Pt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var sn;(function(t){t.pop="pop",t.push="push"})(sn||(sn={}));var Ks;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ks||(Ks={}));function Wd(t){if(!t)if(hs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Vd(t)}const Gd=/^[^#]+#/;function Jd(t,e){return t.replace(Gd,"#")+e}function Qd(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const Jn=()=>({left:window.scrollX,top:window.scrollY});function Yd(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=Qd(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ai(t,e){return(history.state?history.state.position-e:-1)+t}const Ur=new Map;function Xd(t,e){Ur.set(t,e)}function Zd(t){const e=Ur.get(t);return Ur.delete(t),e}let eh=()=>location.protocol+"//"+location.host;function ll(t,e){const{pathname:s,search:n,hash:r}=e,o=t.indexOf("#");if(o>-1){let a=r.includes(t.slice(o))?t.slice(o).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),oi(l,"")}return oi(s,t)+n+r}function th(t,e,s,n){let r=[],o=[],i=null;const a=({state:f})=>{const m=ll(t,location),y=s.value,_=e.value;let T=0;if(f){if(s.value=m,e.value=f,i&&i===y){i=null;return}T=_?f.position-_.position:0}else n(m);r.forEach(O=>{O(s.value,y,{delta:T,type:sn.pop,direction:T?T>0?Ks.forward:Ks.back:Ks.unknown})})};function l(){i=s.value}function c(f){r.push(f);const m=()=>{const y=r.indexOf(f);y>-1&&r.splice(y,1)};return o.push(m),m}function u(){const{history:f}=window;f.state&&f.replaceState(ue({},f.state,{scroll:Jn()}),"")}function d(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function li(t,e,s,n=!1,r=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:r?Jn():null}}function sh(t){const{history:e,location:s}=window,n={value:ll(t,s)},r={value:e.state};r.value||o(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const d=t.indexOf("#"),f=d>-1?(s.host&&document.querySelector("base")?t:t.slice(d))+l:eh()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(m){console.error(m),s[u?"replace":"assign"](f)}}function i(l,c){const u=ue({},e.state,li(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});o(l,u,!0),n.value=l}function a(l,c){const u=ue({},r.value,e.state,{forward:l,scroll:Jn()});o(u.current,u,!0);const d=ue({},li(n.value,l,null),{position:u.position+1},c);o(l,d,!1),n.value=l}return{location:n,state:r,push:a,replace:i}}function nh(t){t=Wd(t);const e=sh(t),s=th(t,e.state,e.location,e.replace);function n(o,i=!0){i||s.pauseListeners(),history.go(o)}const r=ue({location:"",base:t,go:n,createHref:Jd.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function rh(t){return typeof t=="string"||t&&typeof t=="object"}function cl(t){return typeof t=="string"||typeof t=="symbol"}const ul=Symbol("");var ci;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ci||(ci={}));function ks(t,e){return ue(new Error,{type:t,[ul]:!0},e)}function bt(t,e){return t instanceof Error&&ul in t&&(e==null||!!(t.type&e))}const ui="[^/]+?",oh={sensitive:!1,strict:!1,start:!0,end:!0},ih=/[.+*?^${}()[\]/\\]/g;function ah(t,e){const s=ue({},oh,e),n=[];let r=s.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];s.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const f=c[d];let m=40+(s.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(ih,"\\$&"),m+=40;else if(f.type===1){const{value:y,repeatable:_,optional:T,regexp:O}=f;o.push({name:y,repeatable:_,optional:T});const b=O||ui;if(b!==ui){m+=10;try{new RegExp(`(${b})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${y}" (${b}): `+x.message)}}let E=_?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(E=T&&c.length<2?`(?:/${E})`:"/"+E),T&&(E+="?"),r+=E,m+=20,T&&(m+=-8),_&&(m+=-20),b===".*"&&(m+=-50)}u.push(m)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const i=new RegExp(r,s.sensitive?"":"i");function a(c){const u=c.match(i),d={};if(!u)return null;for(let f=1;f<u.length;f++){const m=u[f]||"",y=o[f-1];d[y.name]=m&&y.repeatable?m.split("/"):m}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const m of f)if(m.type===0)u+=m.value;else if(m.type===1){const{value:y,repeatable:_,optional:T}=m,O=y in c?c[y]:"";if(ht(O)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const b=ht(O)?O.join("/"):O;if(!b)if(T)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${y}"`);u+=b}}return u||"/"}return{re:i,score:n,keys:o,parse:a,stringify:l}}function lh(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function dl(t,e){let s=0;const n=t.score,r=e.score;for(;s<n.length&&s<r.length;){const o=lh(n[s],r[s]);if(o)return o;s++}if(Math.abs(r.length-n.length)===1){if(di(n))return 1;if(di(r))return-1}return r.length-n.length}function di(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ch={type:0,value:""},uh=/[a-zA-Z0-9_]/;function dh(t){if(!t)return[[]];if(t==="/")return[[ch]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${s})/"${c}": ${m}`)}let s=0,n=s;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,l,c="",u="";function d(){c&&(s===0?o.push({type:0,value:c}):s===1||s===2||s===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(c&&d(),i()):l===":"?(d(),s=1):f();break;case 4:f(),s=n;break;case 1:l==="("?s=2:uh.test(l)?f():(d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),i(),r}function hh(t,e,s){const n=ah(dh(t.path),s),r=ue(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function fh(t,e){const s=[],n=new Map;e=gi({strict:!1,end:!0,sensitive:!1},e);function r(d){return n.get(d)}function o(d,f,m){const y=!m,_=fi(d);_.aliasOf=m&&m.record;const T=gi(e,d),O=[_];if("alias"in d){const x=typeof d.alias=="string"?[d.alias]:d.alias;for(const P of x)O.push(fi(ue({},_,{components:m?m.record.components:_.components,path:P,aliasOf:m?m.record:_})))}let b,E;for(const x of O){const{path:P}=x;if(f&&P[0]!=="/"){const K=f.record.path,z=K[K.length-1]==="/"?"":"/";x.path=f.record.path+(P&&z+P)}if(b=hh(x,f,T),m?m.alias.push(b):(E=E||b,E!==b&&E.alias.push(b),y&&d.name&&!pi(b)&&i(d.name)),hl(b)&&l(b),_.children){const K=_.children;for(let z=0;z<K.length;z++)o(K[z],b,m&&m.children[z])}m=m||b}return E?()=>{i(E)}:qs}function i(d){if(cl(d)){const f=n.get(d);f&&(n.delete(d),s.splice(s.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=s.indexOf(d);f>-1&&(s.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(i),d.alias.forEach(i))}}function a(){return s}function l(d){const f=mh(d,s);s.splice(f,0,d),d.record.name&&!pi(d)&&n.set(d.record.name,d)}function c(d,f){let m,y={},_,T;if("name"in d&&d.name){if(m=n.get(d.name),!m)throw ks(1,{location:d});T=m.record.name,y=ue(hi(f.params,m.keys.filter(E=>!E.optional).concat(m.parent?m.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),d.params&&hi(d.params,m.keys.map(E=>E.name))),_=m.stringify(y)}else if(d.path!=null)_=d.path,m=s.find(E=>E.re.test(_)),m&&(y=m.parse(_),T=m.record.name);else{if(m=f.name?n.get(f.name):s.find(E=>E.re.test(f.path)),!m)throw ks(1,{location:d,currentLocation:f});T=m.record.name,y=ue({},f.params,d.params),_=m.stringify(y)}const O=[];let b=m;for(;b;)O.unshift(b.record),b=b.parent;return{name:T,path:_,params:y,matched:O,meta:gh(O)}}t.forEach(d=>o(d));function u(){s.length=0,n.clear()}return{addRoute:o,resolve:c,removeRoute:i,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function hi(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function fi(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:ph(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function ph(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function pi(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function gh(t){return t.reduce((e,s)=>ue(e,s.meta),{})}function gi(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}function mh(t,e){let s=0,n=e.length;for(;s!==n;){const o=s+n>>1;dl(t,e[o])<0?n=o:s=o+1}const r=vh(t);return r&&(n=e.lastIndexOf(r,n-1)),n}function vh(t){let e=t;for(;e=e.parent;)if(hl(e)&&dl(t,e)===0)return e}function hl({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function _h(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const o=n[r].replace(nl," "),i=o.indexOf("="),a=tn(i<0?o:o.slice(0,i)),l=i<0?null:tn(o.slice(i+1));if(a in e){let c=e[a];ht(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function mi(t){let e="";for(let s in t){const n=t[s];if(s=Nd(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(ht(n)?n.map(o=>o&&Nr(o)):[n&&Nr(n)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+s,o!=null&&(e+="="+o))})}return e}function yh(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=ht(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const bh=Symbol(""),vi=Symbol(""),Qn=Symbol(""),mo=Symbol(""),Fr=Symbol("");function js(){let t=[];function e(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function $t(t,e,s,n,r,o=i=>i()){const i=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(ks(4,{from:s,to:e})):f instanceof Error?l(f):rh(f)?l(ks(2,{from:e,to:f})):(i&&n.enterCallbacks[r]===i&&typeof f=="function"&&i.push(f),a())},u=o(()=>t.call(n&&n.instances[r],e,s,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function _r(t,e,s,n,r=o=>o()){const o=[];for(const i of t)for(const a in i.components){let l=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(tl(l)){const u=(l.__vccOpts||l)[e];u&&o.push($t(u,s,n,i,a,r))}else{let c=l();o.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const d=Ad(u)?u.default:u;i.mods[a]=u,i.components[a]=d;const m=(d.__vccOpts||d)[e];return m&&$t(m,s,n,i,a,r)()}))}}return o}function _i(t){const e=nt(Qn),s=nt(mo),n=X(()=>{const l=gs(t.to);return e.resolve(l)}),r=X(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],d=s.matched;if(!u||!d.length)return-1;const f=d.findIndex(Es.bind(null,u));if(f>-1)return f;const m=yi(l[c-2]);return c>1&&yi(u)===m&&d[d.length-1].path!==m?d.findIndex(Es.bind(null,l[c-2])):f}),o=X(()=>r.value>-1&&Ch(s.params,n.value.params)),i=X(()=>r.value>-1&&r.value===s.matched.length-1&&al(s.params,n.value.params));function a(l={}){if(kh(l)){const c=e[gs(t.replace)?"replace":"push"](gs(t.to)).catch(qs);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:X(()=>n.value.href),isActive:o,isExactActive:i,navigate:a}}function wh(t){return t.length===1?t[0]:t}const Sh=ya({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:_i,setup(t,{slots:e}){const s=on(_i(t)),{options:n}=nt(Qn),r=X(()=>({[bi(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[bi(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=e.default&&wh(e.default(s));return t.custom?o:Ja("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},o)}}}),Eh=Sh;function kh(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Ch(t,e){for(const s in e){const n=e[s],r=t[s];if(typeof n=="string"){if(n!==r)return!1}else if(!ht(r)||r.length!==n.length||n.some((o,i)=>o!==r[i]))return!1}return!0}function yi(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const bi=(t,e,s)=>t??e??s,Th=ya({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=nt(Fr),r=X(()=>t.route||n.value),o=nt(vi,0),i=X(()=>{let c=gs(o);const{matched:u}=r.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=X(()=>r.value.matched[i.value]);Sn(vi,X(()=>i.value+1)),Sn(bh,a),Sn(Fr,r);const l=he();return vs(()=>[l.value,a.value,t.name],([c,u,d],[f,m,y])=>{u&&(u.instances[d]=c,m&&m!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),c&&u&&(!m||!Es(u,m)||!f)&&(u.enterCallbacks[d]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return wi(s.default,{Component:f,route:c});const m=d.props[u],y=m?m===!0?c.params:typeof m=="function"?m(c):m:null,T=Ja(f,ue({},y,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return wi(s.default,{Component:T,route:c})||T}}});function wi(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Ah=Th;function Ph(t){const e=fh(t.routes,t),s=t.parseQuery||_h,n=t.stringifyQuery||mi,r=t.history,o=js(),i=js(),a=js(),l=vc(Pt);let c=Pt;hs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=mr.bind(null,S=>""+S),d=mr.bind(null,Fd),f=mr.bind(null,tn);function m(S,N){let M,V;return cl(S)?(M=e.getRecordMatcher(S),V=N):V=S,e.addRoute(V,M)}function y(S){const N=e.getRecordMatcher(S);N&&e.removeRoute(N)}function _(){return e.getRoutes().map(S=>S.record)}function T(S){return!!e.getRecordMatcher(S)}function O(S,N){if(N=ue({},N||l.value),typeof S=="string"){const g=vr(s,S,N.path),v=e.resolve({path:g.path},N),k=r.createHref(g.fullPath);return ue(g,v,{params:f(v.params),hash:tn(g.hash),redirectedFrom:void 0,href:k})}let M;if(S.path!=null)M=ue({},S,{path:vr(s,S.path,N.path).path});else{const g=ue({},S.params);for(const v in g)g[v]==null&&delete g[v];M=ue({},S,{params:d(g)}),N.params=d(N.params)}const V=e.resolve(M,N),ie=S.hash||"";V.params=u(f(V.params));const Ce=Hd(n,ue({},S,{hash:Dd(ie),path:V.path})),p=r.createHref(Ce);return ue({fullPath:Ce,hash:ie,query:n===mi?yh(S.query):S.query||{}},V,{redirectedFrom:void 0,href:p})}function b(S){return typeof S=="string"?vr(s,S,l.value.path):ue({},S)}function E(S,N){if(c!==S)return ks(8,{from:N,to:S})}function x(S){return z(S)}function P(S){return x(ue(b(S),{replace:!0}))}function K(S){const N=S.matched[S.matched.length-1];if(N&&N.redirect){const{redirect:M}=N;let V=typeof M=="function"?M(S):M;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=b(V):{path:V},V.params={}),ue({query:S.query,hash:S.hash,params:V.path!=null?{}:S.params},V)}}function z(S,N){const M=c=O(S),V=l.value,ie=S.state,Ce=S.force,p=S.replace===!0,g=K(M);if(g)return z(ue(b(g),{state:typeof g=="object"?ue({},ie,g.state):ie,force:Ce,replace:p}),N||M);const v=M;v.redirectedFrom=N;let k;return!Ce&&qd(n,V,M)&&(k=ks(16,{to:v,from:V}),Qe(V,V,!0,!1)),(k?Promise.resolve(k):Q(v,V)).catch(w=>bt(w)?bt(w,2)?w:ce(w):se(w,v,V)).then(w=>{if(w){if(bt(w,2))return z(ue({replace:p},b(w.to),{state:typeof w.to=="object"?ue({},ie,w.to.state):ie,force:Ce}),N||v)}else w=fe(v,V,!0,p,ie);return me(v,V,w),w})}function H(S,N){const M=E(S,N);return M?Promise.reject(M):Promise.resolve()}function j(S){const N=L.values().next().value;return N&&typeof N.runWithContext=="function"?N.runWithContext(S):S()}function Q(S,N){let M;const[V,ie,Ce]=xh(S,N);M=_r(V.reverse(),"beforeRouteLeave",S,N);for(const g of V)g.leaveGuards.forEach(v=>{M.push($t(v,S,N))});const p=H.bind(null,S,N);return M.push(p),ve(M).then(()=>{M=[];for(const g of o.list())M.push($t(g,S,N));return M.push(p),ve(M)}).then(()=>{M=_r(ie,"beforeRouteUpdate",S,N);for(const g of ie)g.updateGuards.forEach(v=>{M.push($t(v,S,N))});return M.push(p),ve(M)}).then(()=>{M=[];for(const g of Ce)if(g.beforeEnter)if(ht(g.beforeEnter))for(const v of g.beforeEnter)M.push($t(v,S,N));else M.push($t(g.beforeEnter,S,N));return M.push(p),ve(M)}).then(()=>(S.matched.forEach(g=>g.enterCallbacks={}),M=_r(Ce,"beforeRouteEnter",S,N,j),M.push(p),ve(M))).then(()=>{M=[];for(const g of i.list())M.push($t(g,S,N));return M.push(p),ve(M)}).catch(g=>bt(g,8)?g:Promise.reject(g))}function me(S,N,M){a.list().forEach(V=>j(()=>V(S,N,M)))}function fe(S,N,M,V,ie){const Ce=E(S,N);if(Ce)return Ce;const p=N===Pt,g=hs?history.state:{};M&&(V||p?r.replace(S.fullPath,ue({scroll:p&&g&&g.scroll},ie)):r.push(S.fullPath,ie)),l.value=S,Qe(S,N,M,p),ce()}let le;function ke(){le||(le=r.listen((S,N,M)=>{if(!oe.listening)return;const V=O(S),ie=K(V);if(ie){z(ue(ie,{replace:!0,force:!0}),V).catch(qs);return}c=V;const Ce=l.value;hs&&Xd(ai(Ce.fullPath,M.delta),Jn()),Q(V,Ce).catch(p=>bt(p,12)?p:bt(p,2)?(z(ue(b(p.to),{force:!0}),V).then(g=>{bt(g,20)&&!M.delta&&M.type===sn.pop&&r.go(-1,!1)}).catch(qs),Promise.reject()):(M.delta&&r.go(-M.delta,!1),se(p,V,Ce))).then(p=>{p=p||fe(V,Ce,!1),p&&(M.delta&&!bt(p,8)?r.go(-M.delta,!1):M.type===sn.pop&&bt(p,20)&&r.go(-1,!1)),me(V,Ce,p)}).catch(qs)}))}let xe=js(),te=js(),G;function se(S,N,M){ce(S);const V=te.list();return V.length?V.forEach(ie=>ie(S,N,M)):console.error(S),Promise.reject(S)}function He(){return G&&l.value!==Pt?Promise.resolve():new Promise((S,N)=>{xe.add([S,N])})}function ce(S){return G||(G=!S,ke(),xe.list().forEach(([N,M])=>S?M(S):N()),xe.reset()),S}function Qe(S,N,M,V){const{scrollBehavior:ie}=t;if(!hs||!ie)return Promise.resolve();const Ce=!M&&Zd(ai(S.fullPath,0))||(V||!M)&&history.state&&history.state.scroll||null;return Hn().then(()=>ie(S,N,Ce)).then(p=>p&&Yd(p)).catch(p=>se(p,S,N))}const Ue=S=>r.go(S);let Ht;const L=new Set,oe={currentRoute:l,listening:!0,addRoute:m,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:T,getRoutes:_,resolve:O,options:t,push:x,replace:P,go:Ue,back:()=>Ue(-1),forward:()=>Ue(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:te.add,isReady:He,install(S){const N=this;S.component("RouterLink",Eh),S.component("RouterView",Ah),S.config.globalProperties.$router=N,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>gs(l)}),hs&&!Ht&&l.value===Pt&&(Ht=!0,x(r.location).catch(ie=>{}));const M={};for(const ie in Pt)Object.defineProperty(M,ie,{get:()=>l.value[ie],enumerable:!0});S.provide(Qn,N),S.provide(mo,ua(M)),S.provide(Fr,l);const V=S.unmount;L.add(S),S.unmount=function(){L.delete(S),L.size<1&&(c=Pt,le&&le(),le=null,l.value=Pt,Ht=!1,G=!1),V()}}};function ve(S){return S.reduce((N,M)=>N.then(()=>j(M)),Promise.resolve())}return oe}function xh(t,e){const s=[],n=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const a=e.matched[i];a&&(t.matched.find(c=>Es(c,a))?n.push(a):s.push(a));const l=t.matched[i];l&&(e.matched.find(c=>Es(c,l))||r.push(l))}return[s,n,r]}function Oh(){return nt(Qn)}function vo(t){return nt(mo)}const Rh="modulepreload",jh=function(t){return"/"+t},Si={},Cs=function(e,s,n){if(!s||s.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(s.map(o=>{if(o=jh(o),o in Si)return;Si[o]=!0;const i=o.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!n)for(let u=r.length-1;u>=0;u--){const d=r[u];if(d.href===o&&(!i||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":Rh,i||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),i)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},Ih=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Cs(()=>Promise.resolve().then(()=>As),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class _o extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class $h extends _o{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Lh extends _o{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mh extends _o{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Br;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Br||(Br={}));var Dh=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Nh{constructor(e,{headers:s={},customFetch:n,region:r=Br.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=Ih(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return Dh(this,void 0,void 0,function*(){try{const{headers:r,method:o,body:i}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(a["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:c}).catch(y=>{throw new $h(y)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Lh(u);if(!u.ok)throw new Mh(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield u.json():f==="application/octet-stream"?m=yield u.blob():f==="text/event-stream"?m=u:f==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(r){return{data:null,error:r}}})}}var ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Uh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),s}var Ke={},yo={},Yn={},un={},Xn={},Zn={},Fh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ts=Fh();const Bh=Ts.fetch,fl=Ts.fetch.bind(Ts),pl=Ts.Headers,Vh=Ts.Request,Hh=Ts.Response,As=Object.freeze(Object.defineProperty({__proto__:null,Headers:pl,Request:Vh,Response:Hh,default:fl,fetch:Bh},Symbol.toStringTag,{value:"Module"})),qh=Uh(As);var er={};Object.defineProperty(er,"__esModule",{value:!0});let Kh=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};er.default=Kh;var gl=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zn,"__esModule",{value:!0});const zh=gl(qh),Wh=gl(er);let Gh=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=zh.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l;let c=null,u=null,d=null,f=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){const O=await o.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=O:u=JSON.parse(O))}const _=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),T=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&T&&T.length>1&&(d=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const _=await o.text();try{c=JSON.parse(_),Array.isArray(c)&&o.status===404&&(u=[],c=null,f=200,m="OK")}catch{o.status===404&&_===""?(f=204,m="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,m="OK"),c&&this.shouldThrowOnError)throw new Wh.default(c)}return{error:c,data:u,count:d,status:f,statusText:m}});return this.shouldThrowOnError||(r=r.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,s)}};Zn.default=Gh;var Jh=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xn,"__esModule",{value:!0});const Qh=Jh(Zn);let Yh=class extends Qh.default{select(e){let s=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!s?"":(r==='"'&&(s=!s),r)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:n=s}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,s,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Xn.default=Yh;var Xh=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(un,"__esModule",{value:!0});const Zh=Xh(Xn);let ef=class extends Zh.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const n=Array.from(new Set(s)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:n,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${s}`),this}match(e){return Object.entries(e).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(e,s,n){return this.url.searchParams.append(e,`not.${s}.${n}`),this}or(e,{foreignTable:s,referencedTable:n=s}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,s,n){return this.url.searchParams.append(e,`${s}.${n}`),this}};un.default=ef;var tf=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yn,"__esModule",{value:!0});const Is=tf(un);let sf=class{constructor(e,{headers:s={},schema:n,fetch:r}){this.url=e,this.headers=s,this.schema=n,this.fetch=r}select(e,{head:s=!1,count:n}={}){const r=s?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Is.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:n=!0}={}){const r="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const i=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Is.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:n=!1,count:r,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Is.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const n="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),s&&r.push(`count=${s}`),this.headers.Prefer=r.join(","),new Is.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Is.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Yn.default=sf;var tr={},sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.version=void 0;sr.version="0.0.0-automated";Object.defineProperty(tr,"__esModule",{value:!0});tr.DEFAULT_HEADERS=void 0;const nf=sr;tr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${nf.version}`};var ml=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yo,"__esModule",{value:!0});const rf=ml(Yn),of=ml(un),af=tr;let lf=class vl{constructor(e,{headers:s={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},af.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=r}from(e){const s=new URL(`${this.url}/${e}`);return new rf.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new vl(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,get:r=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${e}`);let l;n||r?(i=n?"HEAD":"GET",Object.entries(s).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(i="POST",l=s);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new of.default({method:i,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};yo.default=lf;var Ps=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.PostgrestError=Ke.PostgrestBuilder=Ke.PostgrestTransformBuilder=Ke.PostgrestFilterBuilder=Ke.PostgrestQueryBuilder=Ke.PostgrestClient=void 0;const _l=Ps(yo);Ke.PostgrestClient=_l.default;const yl=Ps(Yn);Ke.PostgrestQueryBuilder=yl.default;const bl=Ps(un);Ke.PostgrestFilterBuilder=bl.default;const wl=Ps(Xn);Ke.PostgrestTransformBuilder=wl.default;const Sl=Ps(Zn);Ke.PostgrestBuilder=Sl.default;const El=Ps(er);Ke.PostgrestError=El.default;var cf=Ke.default={PostgrestClient:_l.default,PostgrestQueryBuilder:yl.default,PostgrestFilterBuilder:bl.default,PostgrestTransformBuilder:wl.default,PostgrestBuilder:Sl.default,PostgrestError:El.default};const{PostgrestClient:uf,PostgrestQueryBuilder:H_,PostgrestFilterBuilder:q_,PostgrestTransformBuilder:K_,PostgrestBuilder:z_,PostgrestError:W_}=cf,df="2.11.2",hf={"X-Client-Info":`realtime-js/${df}`},ff="1.0.0",kl=1e4,pf=1e3;var bs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(bs||(bs={}));var tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(tt||(tt={}));var at;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(at||(at={}));var Vr;(function(t){t.websocket="websocket"})(Vr||(Vr={}));var Qt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qt||(Qt={}));class gf{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const r=s.getUint8(1),o=s.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(e.slice(i,i+r));i=i+r;const l=n.decode(e.slice(i,i+o));i=i+o;const c=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Cl{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(we||(we={}));const Ei=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,i)=>(o[i]=mf(i,t,e,r),o),{})},mf=(t,e,s,n)=>{const r=e.find(a=>a.name===t),o=r==null?void 0:r.type,i=s[t];return o&&!n.includes(o)?Tl(o,i):Hr(i)},Tl=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return bf(e,s)}switch(t){case we.bool:return vf(e);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return _f(e);case we.json:case we.jsonb:return yf(e);case we.timestamp:return wf(e);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return Hr(e);default:return Hr(e)}},Hr=t=>t,vf=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},_f=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},yf=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},bf=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,s);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Tl(e,a))}return t},wf=t=>typeof t=="string"?t.replace(" ","T"):t,Al=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class yr{constructor(e,s,n={},r=kl){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ki;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ki||(ki={}));class zs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zs.syncState(this.state,r,o,i),this.pendingDiffs.forEach(l=>{this.state=zs.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=zs.syncDiff(this.state,r,o,i),a())}),this.onJoin((r,o,i)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:i})}),this.onLeave((r,o,i)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const o=this.cloneDeep(e),i=this.transformState(s),a={},l={};return this.map(o,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const d=o[c];if(d){const f=u.map(T=>T.presence_ref),m=d.map(T=>T.presence_ref),y=u.filter(T=>m.indexOf(T.presence_ref)<0),_=d.filter(T=>f.indexOf(T.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},n,r)}static syncDiff(e,s,n,r){const{joins:o,leaves:i}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(m=>m.presence_ref),f=u.filter(m=>d.indexOf(m.presence_ref)<0);e[a].unshift(...f)}n(a,u,l)}),this.map(i,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,r(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ci;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ci||(Ci={}));var Ti;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ti||(Ti={}));var St;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(St||(St={}));class bo{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new yr(this,at.join,this.params,this.timeout),this.rejoinTimer=new Cl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(at.reply,{},(r,o)=>{this._trigger(this._replyEventName(o),r)}),this.presence=new zs(this),this.broadcastEndpointURL=Al(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(u=>e==null?void 0:e(St.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(St.CLOSED));const l={},c={broadcast:o,presence:i,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(St.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,y=[];for(let _=0;_<m;_++){const T=f[_],{filter:{event:O,schema:b,table:E,filter:x}}=T,P=u&&u[_];if(P&&P.event===O&&P.schema===b&&P.table===E&&P.filter===x)y.push(Object.assign(Object.assign({},T),{id:P.id}));else{this.unsubscribe(),e==null||e(St.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(St.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(St.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(St.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this._on(e,s,n)}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=c.body)===null||r===void 0?void 0:r.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=tt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(at.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new yr(this,at.leave,{},e);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,s,n){const r=new AbortController,o=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(o),i}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new yr(this,e,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=at;if(n&&[a,l,c,u].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(m=>{var y,_,T;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((T=(_=m.filter)===null||_===void 0?void 0:_.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===i}).map(m=>m.callback(f,n)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var y,_,T,O,b,E;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const x=m.id,P=(y=m.filter)===null||y===void 0?void 0:y.event;return x&&((_=s.ids)===null||_===void 0?void 0:_.includes(x))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const x=(b=(O=m==null?void 0:m.filter)===null||O===void 0?void 0:O.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return x==="*"||x===((E=s==null?void 0:s.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:_,table:T,commit_timestamp:O,type:b,errors:E}=y;f=Object.assign(Object.assign({},{schema:_,table:T,commit_timestamp:O,eventType:b,new:{},old:{},errors:E}),this._getPayloadRecords(y))}m.callback(f,n)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),o={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&bo.isEqual(r.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(at.close,{},e)}_onError(e){this._on(at.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Ei(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Ei(e.columns,e.old_record)),s}}const Sf=()=>{},Ef=typeof WebSocket<"u",kf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cf{constructor(e,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=hf,this.params={},this.timeout=kl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Sf,this.conn=null,this.sendBuffer=[],this.serializer=new gf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>Cs(()=>Promise.resolve().then(()=>As),void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${e}/${Vr.websocket}`,this.httpEndpoint=Al(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(o,i)=>i(JSON.stringify(o)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Cl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ef){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Tf(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Cs(()=>import("./browser-2a248ae1.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ff}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bs.connecting:return Qt.Connecting;case bs.open:return Qt.Open;case bs.closing:return Qt.Closing;default:return Qt.Closed}}isConnected(){return this.connectionState()===Qt.Open}channel(e,s={config:{}}){const n=new bo(`realtime:${e}`,s,this);return this.channels.push(n),n}push(e){const{topic:s,event:n,payload:r,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${o})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(r=>{s&&r.updateJoinPayload({access_token:s}),r.joinedOnce&&r._isJoined()&&r._push(at.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(pf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:n,event:r,payload:o,ref:i}=s;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${r} ${i&&"("+i+")"||""}`,o),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(r,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(at.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([kf],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class Tf{constructor(e,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=bs.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class wo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Af extends wo{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class qr extends wo{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Pf=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Pl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Cs(()=>Promise.resolve().then(()=>As),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},xf=()=>Pf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cs(()=>Promise.resolve().then(()=>As),void 0)).Response:Response}),Kr=t=>{if(Array.isArray(t))return t.map(s=>Kr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[r]=Kr(n)}),e};var rs=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const br=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Of=(t,e,s)=>rs(void 0,void 0,void 0,function*(){const n=yield xf();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(r=>{e(new Af(br(r),t.status||500))}).catch(r=>{e(new qr(br(r),r))}):e(new qr(br(t),t))}),Rf=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),s))};function dn(t,e,s,n,r,o){return rs(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(s,Rf(e,n,r,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>Of(l,a,n))})})}function Ln(t,e,s,n){return rs(this,void 0,void 0,function*(){return dn(t,"GET",e,s,n)})}function Lt(t,e,s,n,r){return rs(this,void 0,void 0,function*(){return dn(t,"POST",e,n,r,s)})}function jf(t,e,s,n,r){return rs(this,void 0,void 0,function*(){return dn(t,"PUT",e,n,r,s)})}function If(t,e,s,n){return rs(this,void 0,void 0,function*(){return dn(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function xl(t,e,s,n,r){return rs(this,void 0,void 0,function*(){return dn(t,"DELETE",e,n,r,s)})}var qe=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const $f={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ai={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lf{constructor(e,s={},n,r){this.url=e,this.headers=s,this.bucketId=n,this.fetch=Pl(r)}uploadOrUpdate(e,s,n,r){return qe(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Ai),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(Re(o))return{data:null,error:o};throw o}})}upload(e,s,n){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return qe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Ai.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Re(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return qe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const o=yield Lt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new wo("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}update(e,s,n){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return qe(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}copy(e,s,n){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}createSignedUrl(e,s,n){return qe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=yield Lt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return qe(this,void 0,void 0,function*(){try{const r=yield Lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}download(e,s){return qe(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ln(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Re(a))return{data:null,error:a};throw a}})}info(e){return qe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield Ln(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Kr(n),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}exists(e){return qe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield If(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Re(n)&&n instanceof qr){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],o=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";o!==""&&r.push(o);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return qe(this,void 0,void 0,function*(){try{return{data:yield xl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}list(e,s,n){return qe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},$f),s),{prefix:e||""});return{data:yield Lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Mf="2.7.1",Df={"X-Client-Info":`storage-js/${Mf}`};var ls=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Nf{constructor(e,s={},n){this.url=e,this.headers=Object.assign(Object.assign({},Df),s),this.fetch=Pl(n)}listBuckets(){return ls(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Re(e))return{data:null,error:e};throw e}})}getBucket(e){return ls(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return ls(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return ls(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ls(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}deleteBucket(e){return ls(this,void 0,void 0,function*(){try{return{data:yield xl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}}class Uf extends Nf{constructor(e,s={},n){super(e,s,n)}from(e){return new Lf(this.url,this.headers,e,this.fetch)}}const Ff="2.48.1";let Ms="";typeof Deno<"u"?Ms="deno":typeof document<"u"?Ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ms="react-native":Ms="node";const Bf={"X-Client-Info":`supabase-js-${Ms}/${Ff}`},Vf={headers:Bf},Hf={schema:"public"},qf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kf={};var zf=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Wf=t=>{let e;return t?e=t:typeof fetch>"u"?e=fl:e=fetch,(...s)=>e(...s)},Gf=()=>typeof Headers>"u"?pl:Headers,Jf=(t,e,s)=>{const n=Wf(s),r=Gf();return(o,i)=>zf(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new r(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},i),{headers:c}))})};var Qf=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function Yf(t){return t.replace(/\/$/,"")}function Xf(t,e){const{db:s,auth:n,realtime:r,global:o}=t,{db:i,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},i),s),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},c),o),accessToken:()=>Qf(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Ol="2.67.3",Zf="http://localhost:9999",ep="supabase.auth.token",tp={"X-Client-Info":`gotrue-js/${Ol}`},Pi=10,zr="X-Supabase-Api-Version",Rl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function sp(t){return Math.round(Date.now()/1e3)+t}function np(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const gt=()=>typeof window<"u"&&typeof document<"u",zt={tested:!1,writable:!1},Ws=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zt.tested)return zt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zt.tested=!0,zt.writable=!0}catch{zt.tested=!0,zt.writable=!1}return zt.writable};function rp(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,o)=>{e[o]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const jl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Cs(()=>Promise.resolve().then(()=>As),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},op=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Il=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},vn=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},_n=async(t,e)=>{await t.removeItem(e)};function ip(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",n,r,o,i,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)i=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),n=i<<2|a>>4,r=(a&15)<<4|l>>2,o=(l&3)<<6|c,s=s+String.fromCharCode(n),l!=64&&r!=0&&(s=s+String.fromCharCode(r)),c!=64&&o!=0&&(s=s+String.fromCharCode(o));return s}class nr{constructor(){this.promise=new nr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}nr.promiseConstructor=Promise;function xi(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=s[1];return JSON.parse(ip(n))}async function ap(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function lp(t,e){return new Promise((n,r)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){r(i);return}}})()})}function cp(t){return("0"+t.toString(16)).substr(-2)}function up(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let o=0;o<56;o++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,cp).join("")}async function dp(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(o=>String.fromCharCode(o)).join("")}function hp(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await dp(t);return hp(s)}async function cs(t,e,s=!1){const n=up();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await Il(t,`${e}-code-verifier`,r);const o=await fp(n);return[o,n===o?"plain":"s256"]}const pp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gp(t){const e=t.headers.get(zr);if(!e||!e.match(pp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class So extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class mp extends So{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function vp(t){return ee(t)&&t.name==="AuthApiError"}class $l extends So{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class os extends So{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class Ot extends os{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _p(t){return ee(t)&&t.name==="AuthSessionMissingError"}class wr extends os{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yn extends os{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bn extends os{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yp(t){return ee(t)&&t.name==="AuthImplicitGrantRedirectError"}class Oi extends os{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wr extends os{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Sr(t){return ee(t)&&t.name==="AuthRetryableFetchError"}class Ri extends os{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}var bp=globalThis&&globalThis.__rest||function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const Gt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wp=[502,503,504];async function ji(t){var e;if(!op(t))throw new Wr(Gt(t),0);if(wp.includes(t.status))throw new Wr(Gt(t),t.status);let s;try{s=await t.json()}catch(o){throw new $l(Gt(o),o)}let n;const r=gp(t);if(r&&r.getTime()>=Rl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Ri(Gt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ot}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Ri(Gt(s),t.status,s.weak_password.reasons);throw new mp(Gt(s),t.status||500,n)}const Sp=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function ne(t,e,s,n){var r;const o=Object.assign({},n==null?void 0:n.headers);o[zr]||(o[zr]=Rl["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await Ep(t,e,s+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Ep(t,e,s,n,r,o){const i=Sp(e,n,r,o);let a;try{a=await t(s,Object.assign({},i))}catch(l){throw console.error(l),new Wr(Gt(l),0)}if(a.ok||await ji(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await ji(l)}}function Rt(t){var e;let s=null;Ap(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=sp(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function Ii(t){const e=Rt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Dt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function kp(t){return{data:t,error:null}}function Cp(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:o}=t,i=bp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function Tp(t){return t}function Ap(t){return t.access_token&&t.refresh_token&&t.expires_in}var Pp=globalThis&&globalThis.__rest||function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};class xp{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=jl(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Dt})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=Pp(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Cp,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ee(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Dt})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(o=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:Tp});if(u.error)throw u.error;const d=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(y.split(";")[1].split("=")[1]);c[`${T}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ee(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Dt})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Dt})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Dt})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:s,error:n}=await ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}}const Op={getItem:t=>Ws()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ws()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ws()&&globalThis.localStorage.removeItem(t)}};function $i(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Rp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const us={debug:!!(globalThis&&Ws()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ll extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jp extends Ll{}async function Ip(t,e,s){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new jp(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(us.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Rp();const $p={url:Zf,storageKey:ep,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},$s=30*1e3,Li=3;async function Mi(t,e,s){return await s()}class nn{constructor(e){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=nn.nextInstanceID,nn.nextInstanceID+=1,this.instanceID>0&&gt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},$p),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new xp({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=jl(r.fetch),this.lock=r.lock||Mi,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:gt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Ip:this.lock=Mi,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Ws()?this.storage=Op:(this.memoryStorage={},this.storage=$i(this.memoryStorage)):(this.memoryStorage={},this.storage=$i(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ol}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=rp(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),gt()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:o}=await this._getSessionFromURL(s,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),yp(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ee(s)?{error:s}:{error:new $l("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{const o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Rt}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ee(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var s,n,r;try{let o;if("email"in e){const{email:u,password:d,options:f}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await cs(this.storage,this.storageKey)),o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:y},xform:Rt})}else if("phone"in e){const{phone:u,password:d,options:f}=e;o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Rt})}else throw new yn("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ee(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let s;if("email"in e){const{email:o,password:i,options:a}=e;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ii})}else if("phone"in e){const{phone:o,password:i,options:a}=e;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ii})}else throw new yn("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new wr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await vn(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:o,error:i}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Rt});if(await _n(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new wr}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:r??null}),error:i})}catch(o){if(ee(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:s,provider:n,token:r,access_token:o,nonce:i}=e,a=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Rt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new wr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,r,o,i;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await cs(this.storage,this.storageKey));const{error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new yn("You must provide either an email or phone number.")}catch(a){if(ee(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{let r,o;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:Rt});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var s,n,r;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await cs(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:kp})}catch(o){if(ee(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new Ot;const{error:r}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(ee(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:o}=e,{error:i}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:r,options:o}=e,{data:i,error:a}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new yn("You must provide either an email or phone number and a type")}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await vn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Dt}):await this._useSession(async s=>{var n,r,o;const{data:i,error:a}=s;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:Dt})})}catch(s){if(ee(s))return _p(s)&&(await this._removeSession(),await _n(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:o}=n;if(o)throw o;if(!r.session)throw new Ot;const i=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await cs(this.storage,this.storageKey));const{data:c,error:u}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:Dt});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return xi(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ot;const s=Date.now()/1e3;let n=s,r=!0,o=null;const i=xi(e.access_token);if(i.exp&&(n=i.exp,r=n<=s),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(s){if(ee(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:i,error:a}=s;if(a)throw a;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ot;const{session:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!gt())throw new bn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Oi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bn("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Oi("No code detected.");const{data:b,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!i||!c)throw new bn("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const m=f-u;m*1e3<=$s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const y=f-d;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,u);const{data:_,error:T}=await this._getUser(o);if(T)throw T;const O={provider_token:n,provider_refresh_token:r,access_token:o,expires_in:d,expires_at:f,refresh_token:i,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(n){if(ee(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await vn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:o}=s;if(o)return{error:o};const i=(n=r.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(vp(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await _n(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=np(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:o},error:i}=s;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await cs(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(o){if(ee(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:r}=await this._useSession(async o=>{var i,a,l,c,u;const{data:d,error:f}=o;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return gt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ee(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:o,error:i}=s;if(i)throw i;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await lp(async r=>(r>0&&await ap(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rt})),(r,o)=>{const i=200*Math.pow(2,r);return o&&Sr(o)&&Date.now()+i-n<$s})}catch(n){if(this._debug(s,"error",n),ee(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),gt()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await vn(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),o=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<r+Pi;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${Pi}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Sr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new nr;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new Ot;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(r,"error",o),ee(o)){const i={session:null,error:o};return Sr(o)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Il(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await _n(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$s);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/$s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${$s}ms, refresh threshold is ${Li} ticks`),r<=Li&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ll)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await cs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);r.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:o}=s;return o?{data:null,error:o}:await ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:o,error:i}=s;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:o}=s;if(o)return{data:null,error:o};const{data:i,error:a}=await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(s){if(ee(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:o}=s;return o?{data:null,error:o}:await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ee(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],r=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:r,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:r},error:o}=e;if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(r.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}nn.nextInstanceID=0;const Lp=nn;class Mp extends Lp{constructor(e){super(e)}}var Dp=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Np{constructor(e,s,n){var r,o,i;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Yf(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Hf,realtime:Kf,auth:Object.assign(Object.assign({},qf),{storageKey:l}),global:Vf},u=Xf(n??{},c);this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=Jf(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new uf(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Nh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Uf(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Dp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:o,flowType:i,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mp({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,flowType:i,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Cf(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Up=(t,e,s)=>new Np(t,e,s),Fp="https://gdiilyynpyscctdozlit.supabase.co",Bp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdkaWlseXlucHlzY2N0ZG96bGl0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2NTkwMTYsImV4cCI6MjA2ODIzNTAxNn0.yoXR6zGoQ8f53u0qxZ73ld6T-5z_u-NhrKxDXKySt9c",Je=Up(Fp,Bp,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});async function Ml(){try{const{data:t,error:e}=await Je.from("schools").select("count").single();if(e)throw e;return console.log("Supabase connection successful"),!0}catch(t){return console.error("Supabase connection error:",t),!1}}async function Vp(t){try{console.log("Creating school with data:",t);const{data:e,error:s}=await Je.from("schools").insert([t]).select();if(s)throw console.error("Error creating school:",s),s;return console.log("School created successfully:",e),e}catch(e){throw console.error("Error in createSchool:",e),e}}async function Hp(){try{const{data:t,error:e}=await Je.from("schools").select("*");if(e)throw console.error("Error getting schools:",e),e;return t}catch(t){throw console.error("Error in getSchools:",t),t}}async function qp(t){if(!t.schoolId)throw new Error("SchoolId is required");try{if(console.log("Creating class with data:",t),!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t.schoolId))throw new Error("Invalid schoolId format");if(t.coachId&&!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t.coachId))throw new Error("Invalid coachId format");const{data:e,error:s}=await Je.from("classes").insert([{school_id:t.schoolId,coach_id:t.coachId||null,name:t.name,grade:t.grade||null}]).select();if(s)throw console.error("Error creating class:",s),s;return console.log("Class created successfully:",e),e}catch(e){throw console.error("Error in createClass:",e),e}}async function Kp(t){if(!t)throw new Error("SchoolId is required");try{if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))throw new Error("Invalid schoolId format");const{data:e,error:s}=await Je.from("classes").select(`
                *,
                school:schools(*),
                coach:coaches(*)
            `).eq("school_id",t);if(s)throw console.error("Error getting classes:",s),s;return e}catch(e){throw console.error("Error in getClasses:",e),e}}async function zp(t){try{console.log("Creating student with data:",t);const{data:e,error:s}=await Je.from("students").insert([t]).select();if(s)throw console.error("Error creating student:",s),s;return console.log("Student created successfully:",e),e}catch(e){throw console.error("Error in createStudent:",e),e}}async function Di(){try{const{data:t,error:e}=await Je.from("students").select(`
        *,
        merit_points (*),
        solve_times (*),
        class:classes (
          id,
          name,
          school:schools (
            id,
            name
          )
        )
      `).order("created_at",{ascending:!1});if(e)throw console.error("Error getting students:",e),e;return{data:t,error:null}}catch(t){throw console.error("Error in getStudents:",t),t}}async function Ni(t){try{if(!t||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))throw new Error("Invalid student ID format");const{data:e,error:s}=await Je.from("students").select(`
                *,
                class:classes(
                    id,
                    name,
                    grade,
                    school:schools(
                        id,
                        name
                    )
                ),
                attendance:attendance(
                    id,
                    date,
                    status,
                    created_at
                ),
                notes:notes(
                    id,
                    text,
                    created_at
                ),
                merit_points:merit_points(
                    id,
                    points,
                    category,
                    description,
                    created_at
                ),
                solve_times:solve_times(
                    id,
                    time_seconds,
                    puzzle_type,
                    created_at
                )
            `).eq("id",t).single();if(s)throw console.error("Error getting student:",s),s;return e}catch(e){throw console.error("Error in getStudent:",e),e}}async function Wp(t){try{if(console.log("Recording attendance with data:",t),!t.student_id||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t.student_id))throw new Error("Invalid student_id format");if(!t.date||isNaN(new Date(t.date).getTime()))throw new Error("Invalid date format");const e=["PRESENT","ABSENT","LATE","EXCUSED"];if(!t.status||!e.includes(t.status.toUpperCase()))throw new Error("Invalid status. Must be one of: "+e.join(", "));const{data:s,error:n}=await Je.from("attendance").insert([{student_id:t.student_id,date:t.date,status:t.status.toUpperCase()}]).select();if(n)throw console.error("Error recording attendance:",n),n;return console.log("Attendance recorded successfully:",s),s}catch(e){throw console.error("Error in recordAttendance:",e),e}}async function Gp(t){try{console.log("Adding note with data:",t);const{data:e,error:s}=await Je.from("notes").insert([t]).select();if(s)throw console.error("Error adding note:",s),s;return console.log("Note added successfully:",e),e}catch(e){throw console.error("Error in addNote:",e),e}}async function Jp(t){try{const{data:e,error:s}=await Je.from("notes").select("*").eq("student_id",t);if(s)throw console.error("Error getting student notes:",s),s;return e}catch(e){throw console.error("Error in getStudentNotes:",e),e}}async function Ui(t){try{console.log("Adding merit points with data:",t);const{data:e,error:s}=await Je.from("merit_points").insert([t]).select();if(s)throw console.error("Error adding merit points:",s),s;return console.log("Merit points added successfully:",e),e}catch(e){throw console.error("Error in addMeritPoints:",e),e}}async function Qp(t){try{console.log("Adding solve time with data:",t);const{data:e,error:s}=await Je.from("solve_times").insert([t]).select();if(s)throw console.error("Error adding solve time:",s),s;return console.log("Solve time added successfully:",e),e}catch(e){throw console.error("Error in addSolveTime:",e),e}}async function Yp(t){try{if(!t||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))throw new Error("Invalid student ID format");console.log("Deleting student with ID:",t);const{data:e,error:s}=await Je.from("students").delete().eq("id",t).select();if(s)throw console.error("Error deleting student:",s),s;return console.log("Student deleted successfully:",e),e}catch(e){throw console.error("Error in deleteStudent:",e),e}}const hn=po("school",{state:()=>({schools:[],loading:!1,error:null,lastFetch:null,cacheTimeout:5*60*1e3}),actions:{async fetchSchools(t=!1){if(!t&&this.lastFetch&&Date.now()-this.lastFetch<this.cacheTimeout)return this.schools;this.loading=!0,this.error=null;try{console.log("Fetching schools...");const e=await Hp();this.schools=e||[],this.lastFetch=Date.now(),console.log("Schools fetched:",this.schools)}catch(e){throw console.error("Error fetching schools:",e),this.error=e.message,e}finally{this.loading=!1}},async addSchool(t){this.loading=!0,this.error=null;try{console.log("Adding school:",t);const e=await Vp(t);if(e&&e[0])return this.schools.push(e[0]),console.log("School added successfully:",e[0]),e[0];throw new Error("Failed to add school: No result returned")}catch(e){throw console.error("Error adding school:",e),this.error=e.message,e}finally{this.loading=!1}},updateSchool(t){const e=this.schools.findIndex(s=>s.id===t.id);e!==-1&&(this.schools[e]={...this.schools[e],...t})},deleteSchool(t){this.schools=this.schools.filter(e=>e.id!==t)},clearError(){this.error=null}},getters:{getSchoolById:t=>e=>t.schools.find(s=>s.id===e),hasSchools:t=>t.schools.length>0,isLoading:t=>t.loading}}),fn=po("class",{state:()=>({classes:[],loading:!1,error:null,lastFetch:null,cacheTimeout:5*60*1e3,availableGrades:Array.from({length:12},(t,e)=>(e+1).toString()),classesCache:new Map}),actions:{async fetchClasses(t){if(!t){console.error("SchoolId is required to fetch classes");return}const e=this.classesCache.get(t),s=Date.now();if(e&&s-e.timestamp<this.cacheTimeout){this.classes=e.classes;return}this.loading=!0,this.error=null;try{console.log("Fetching classes for school:",t);const n=await Kp(t);this.classes=n||[],this.classesCache.set(t,{classes:this.classes,timestamp:s}),console.log("Classes fetched:",this.classes)}catch(n){throw console.error("Error fetching classes:",n),this.error=n.message,n}finally{this.loading=!1}},async addClass(t){if(!t.schoolId)throw new Error("SchoolId is required to create a class");this.loading=!0,this.error=null;try{console.log("Adding class:",t);const e=await qp({schoolId:t.schoolId,coachId:t.coachId||null,name:t.name,grade:t.grade||null});if(e&&e[0])return this.classes.push(e[0]),console.log("Class added successfully:",e[0]),e[0];throw new Error("Failed to add class: No result returned")}catch(e){throw console.error("Error adding class:",e),this.error=e.message,e}finally{this.loading=!1}},updateClass(t){const e=this.classes.findIndex(s=>s.id===t.id);e!==-1&&(this.classes[e]={...this.classes[e],...t})},deleteClass(t){this.classes=this.classes.filter(e=>e.id!==t)},getClassesBySchool(t){return this.classes.filter(e=>e.school_id===t)},clearError(){this.error=null}},getters:{getClassById:t=>e=>t.classes.find(s=>s.id===e),hasClasses:t=>t.classes.length>0,isLoading:t=>t.loading,getError:t=>t.error}}),xs=po("student",{state:()=>({students:[],loading:!1,error:null,meritCategories:["Academic Excellence","Good Behavior","Homework","Class Participation","Extra Curricular","Leadership","Helping Others"]}),getters:{topStudents:t=>t.students.map(e=>({id:e.id,name:e.name,totalPoints:e.merit_points?e.merit_points.reduce((s,n)=>s+n.points,0):0,class_id:e.class_id})).sort((e,s)=>s.totalPoints-e.totalPoints).slice(0,5),fastestSolves:t=>t.students.map(e=>{var n;const s=((n=e.solve_times)==null?void 0:n.length)>0?Math.min(...e.solve_times.map(r=>r.time_seconds)):1/0;return{id:e.id,name:e.name,time:s,class_id:e.class_id}}).filter(e=>e.time!==1/0).sort((e,s)=>e.time-s.time).slice(0,5),bestAverages:t=>t.students.map(e=>{if(!e.solve_times||e.solve_times.length<5)return null;const s=e.solve_times.map(r=>r.time_seconds).sort((r,o)=>r-o);let n=1/0;for(let r=0;r<=s.length-5;r++){const o=s.slice(r,r+5).reduce((i,a)=>i+a)/5;n=Math.min(n,o)}return{id:e.id,name:e.name,average:n,class_id:e.class_id}}).filter(e=>e&&e.average!==1/0).sort((e,s)=>e.average-s.average).slice(0,5)},actions:{async fetchAllStudents(){this.loading=!0,this.error=null;try{const{data:t,error:e}=await Di();if(e)throw e;this.students=t}catch(t){console.error("Error fetching students:",t),this.error=t.message}finally{this.loading=!1}},async fetchStudents(t){try{if(!t||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))throw new Error("Invalid class ID format");const{data:e,error:s}=await Di();if(s)throw s;this.students=e.filter(n=>n.class_id===t)}catch(e){throw console.error("Error fetching students:",e),this.error=e.message,e}},async addStudent(t){try{if(!t.class_id||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t.class_id))throw new Error("Class ID is required and must be a valid UUID");if(!t.name||t.name.trim()==="")throw new Error("Student name is required");const e=await zp(t);if(e)return this.students.push(e[0]),e[0]}catch(e){throw console.error("Error adding student:",e),this.error=e.message,e}},async markAttendance(t,e,s){try{if(!t||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))throw new Error("Invalid student ID format");if(!e||isNaN(new Date(e).getTime()))throw new Error("Invalid date format");const n=["PRESENT","ABSENT","LATE","EXCUSED"];if(!s||!n.includes(s.toUpperCase()))throw new Error("Invalid status. Must be one of: "+n.join(", "));await Wp({student_id:t,date:e,status:s.toUpperCase()});const r=await Ni(t);if(!r)throw new Error("Failed to refresh student data");const o=this.students.findIndex(i=>i.id===t);o!==-1?this.students[o]={...this.students[o],...r,attendance:r.attendance||[]}:this.students.push({...r,attendance:r.attendance||[]})}catch(n){throw console.error("Error marking attendance:",n),this.error=n.message,n}},async addNote(t,e){try{await Gp({student_id:t,text:e});const s=await Jp(t),n=this.students.find(r=>r.id===t);n&&(n.notes=s)}catch(s){throw console.error("Error adding note:",s),this.error=s.message,s}},async addMerit(t,{points:e,category:s,description:n}){try{const r=this.students.find(a=>a.id===t);if(!r)throw new Error("Student not found");const{data:o,error:i}=await Ui({student_id:t,points:e,category:s,description:n});if(i)throw i;r.merit_points||(r.merit_points=[]),r.merit_points.push(o),await this.fetchStudent(t)}catch(r){throw console.error("Error adding merit points:",r),r}},async subtractMerit(t,{points:e,category:s,description:n}){try{const r=this.students.find(a=>a.id===t);if(!r)throw new Error("Student not found");const{data:o,error:i}=await Ui({student_id:t,points:-Math.abs(e),category:s,description:n});if(i)throw i;r.merit_points||(r.merit_points=[]),r.merit_points.push(o),await this.fetchStudent(t)}catch(r){throw console.error("Error subtracting merit points:",r),r}},async addSolveTime(t,{timeMs:e,puzzleType:s}){try{const n=this.students.find(a=>a.id===t);if(!n)throw new Error("Student not found");const r=parseFloat((e/1e3).toFixed(3));if(isNaN(r)||r<=0)throw new Error("Invalid solve time");const{data:o,error:i}=await Qp({student_id:t,time_seconds:r,puzzle_type:s});if(i)throw i;n.solve_times||(n.solve_times=[]),n.solve_times.push(o),await this.fetchStudent(t)}catch(n){throw console.error("Error adding solve time:",n),n}},async fetchStudent(t){try{if(!t||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))throw new Error("Invalid student ID format");const e=await Ni(t);if(e){const s=this.students.findIndex(n=>n.id===t);s>=0?this.students[s]=e:this.students.push(e)}return e}catch(e){throw console.error("Error fetching student:",e),this.error=e.message,e}},getStudentsByClass(t){return this.students.filter(e=>e.class_id===t)},addMeritCategory(t){this.meritCategories.includes(t)||this.meritCategories.push(t)},async deleteStudent(t){try{if(!t||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))throw new Error("Invalid student ID format");await Yp(t);const e=this.students.findIndex(s=>s.id===t);return e!==-1&&this.students.splice(e,1),!0}catch(e){throw console.error("Error deleting student:",e),this.error=e.message,e}},clearError(){this.error=null}}});const Xp={name:"MeritLeaderboard",setup(){const t=xs(),e=fn(),s=he("all"),n=X(()=>e.classes),r=X(()=>s.value==="all"?t.topStudents:t.studentRankingsByClass(parseInt(s.value)));return{selectedClass:s,classes:n,leaderboardStudents:r,getClassName:a=>{const l=e.classes.find(c=>c.id===a);return l?l.name:""},updateLeaderboard:()=>{}}}},Zp={class:"merit-leaderboard"},eg={class:"leaderboard-filters"},tg=["value"],sg={class:"leaderboard-list"},ng={class:"rank"},rg={class:"student-info"},og={key:0,class:"class-name"},ig={class:"points"},ag={key:0,class:"no-data"};function lg(t,e,s,n,r,o){const i=Ct("router-link");return I(),D("div",Zp,[e[3]||(e[3]=h("h2",null,"Merit Points Leaderboard",-1)),h("div",eg,[je(h("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>n.selectedClass=a),onChange:e[1]||(e[1]=(...a)=>n.updateLeaderboard&&n.updateLeaderboard(...a))},[e[2]||(e[2]=h("option",{value:"all"},"All Classes",-1)),(I(!0),D(ge,null,Ie(n.classes,a=>(I(),D("option",{key:a.id,value:a.id},B(a.name),9,tg))),128))],544),[[ts,n.selectedClass]])]),h("div",sg,[(I(!0),D(ge,null,Ie(n.leaderboardStudents,(a,l)=>(I(),D("div",{key:a.id,class:"leaderboard-item"},[h("div",ng,B(l+1),1),h("div",rg,[ye(i,{to:{name:"StudentProfile",params:{id:a.id}},class:"student-name"},{default:ze(()=>[Te(B(a.name),1)]),_:2},1032,["to"]),n.selectedClass==="all"?(I(),D("span",og,B(n.getClassName(a.classId)),1)):Oe("",!0)]),h("div",ig,B(a.totalPoints)+" points",1)]))),128)),n.leaderboardStudents.length?Oe("",!0):(I(),D("div",ag," No merit points awarded yet "))])])}const cg=Vt(Xp,[["render",lg],["__scopeId","data-v-f7e4ff9f"]]);const ug={name:"Dashboard",components:{MeritLeaderboard:cg},setup(){const t=hn(),e=fn(),s=xs(),n=he(!0),r=he(null),o=async()=>{n.value=!0,r.value=null;try{await Promise.all([t.fetchSchools(),e.fetchClasses(),s.fetchAllStudents()])}catch(m){console.error("Error loading dashboard:",m),r.value="Failed to load dashboard data. Please try refreshing the page."}finally{n.value=!1}};ns(()=>{o()});const i=X(()=>t.schools.length),a=X(()=>e.classes.length),l=X(()=>s.students.length),c=X(()=>s.topStudents),u=X(()=>s.fastestSolves),d=X(()=>s.bestAverages);return{isLoading:n,error:r,schoolCount:i,classCount:a,studentCount:l,topStudents:c,fastestSolves:u,bestAverages:d,formatSolveTime:m=>typeof m!="number"?"--":m.toFixed(2)+"s"}}},dg={class:"dashboard"},hg={key:0,class:"loading-state"},fg={key:1,class:"error-state"},pg={class:"dashboard-grid"},gg={class:"dashboard-item schools"},mg={class:"count"},vg={class:"dashboard-item classes"},_g={class:"count"},yg={class:"dashboard-item students"},bg={class:"count"},wg={class:"rankings-section"},Sg={class:"rankings-card"},Eg={class:"rankings-list"},kg={class:"rank-info"},Cg={class:"rank"},Tg={class:"student-name"},Ag={class:"points"},Pg={key:0,class:"no-data"},xg={class:"rankings-card"},Og={class:"rankings-list"},Rg={class:"rank-info"},jg={class:"rank"},Ig={class:"student-name"},$g={class:"time"},Lg={key:0,class:"no-data"},Mg={class:"rankings-card"},Dg={class:"rankings-list"},Ng={class:"rank-info"},Ug={class:"rank"},Fg={class:"student-name"},Bg={class:"time"},Vg={key:0,class:"no-data"};function Hg(t,e,s,n,r,o){const i=Ct("router-link"),a=Ct("MeritLeaderboard");return I(),D("div",dg,[e[17]||(e[17]=h("div",{class:"header"},[h("h1",{class:"page-title"},"Dashboard")],-1)),n.isLoading?(I(),D("div",hg,e[0]||(e[0]=[h("div",{class:"loading-spinner"},null,-1),Te(" Loading dashboard data... ")]))):n.error?(I(),D("div",fg,[e[1]||(e[1]=h("div",{class:"error-icon"},"",-1)),Te(" "+B(n.error),1)])):(I(),D(ge,{key:2},[h("div",pg,[h("div",gg,[e[3]||(e[3]=h("div",{class:"card-gradient"},null,-1)),e[4]||(e[4]=h("h2",null,"Schools",-1)),h("div",mg,B(n.schoolCount),1),ye(i,{to:"/schools",class:"view-all"},{default:ze(()=>e[2]||(e[2]=[Te("View All Schools")])),_:1})]),h("div",vg,[e[6]||(e[6]=h("div",{class:"card-gradient"},null,-1)),e[7]||(e[7]=h("h2",null,"Classes",-1)),h("div",_g,B(n.classCount),1),ye(i,{to:"/classes",class:"view-all"},{default:ze(()=>e[5]||(e[5]=[Te("View All Classes")])),_:1})]),h("div",yg,[e[9]||(e[9]=h("div",{class:"card-gradient"},null,-1)),e[10]||(e[10]=h("h2",null,"Students",-1)),h("div",bg,B(n.studentCount),1),ye(i,{to:"/students",class:"view-all"},{default:ze(()=>e[8]||(e[8]=[Te("View All Students")])),_:1})])]),ye(a,{class:"dashboard-leaderboard"}),h("div",wg,[h("div",Sg,[e[11]||(e[11]=h("div",{class:"card-gradient"},null,-1)),e[12]||(e[12]=h("h2",null,"Merit Points Leaderboard",-1)),h("div",Eg,[(I(!0),D(ge,null,Ie(n.topStudents,(l,c)=>(I(),D("div",{key:l.id,class:"ranking-item"},[h("div",kg,[h("span",Cg,B(c+1),1),h("span",Tg,B(l.name),1)]),h("span",Ag,B(l.totalPoints)+" points",1)]))),128)),n.topStudents.length?Oe("",!0):(I(),D("div",Pg," No merit points recorded yet "))])]),h("div",xg,[e[13]||(e[13]=h("div",{class:"card-gradient"},null,-1)),e[14]||(e[14]=h("h2",null,"Fastest Single Solves",-1)),h("div",Og,[(I(!0),D(ge,null,Ie(n.fastestSolves,(l,c)=>(I(),D("div",{key:l.id,class:"ranking-item"},[h("div",Rg,[h("span",jg,B(c+1),1),h("span",Ig,B(l.name),1)]),h("span",$g,B(n.formatSolveTime(l.time)),1)]))),128)),n.fastestSolves.length?Oe("",!0):(I(),D("div",Lg," No solve times recorded yet "))])]),h("div",Mg,[e[15]||(e[15]=h("div",{class:"card-gradient"},null,-1)),e[16]||(e[16]=h("h2",null,"Best Average of 5",-1)),h("div",Dg,[(I(!0),D(ge,null,Ie(n.bestAverages,(l,c)=>(I(),D("div",{key:l.id,class:"ranking-item"},[h("div",Ng,[h("span",Ug,B(c+1),1),h("span",Fg,B(l.name),1)]),h("span",Bg,B(n.formatSolveTime(l.average)),1)]))),128)),n.bestAverages.length?Oe("",!0):(I(),D("div",Vg," No averages available yet "))])])])],64))])}const qg=Vt(ug,[["render",Hg],["__scopeId","data-v-6e6ef300"]]);const Kg={setup(){const t=hn(),e=he([]),s=he(!1),n=he({name:"",address:""});return ns(async()=>{try{if(!await Ml())throw new Error("Could not connect to database");await t.fetchSchools(),e.value=t.schools}catch(i){console.error("Error in SchoolList setup:",i),alert("Could not connect to the database. Please check your connection and try again.")}}),{schools:e,showAddSchoolForm:s,newSchool:n,addSchool:async()=>{try{console.log("Adding school:",n.value),await t.addSchool({name:n.value.name,address:n.value.address}),s.value=!1,n.value={name:"",address:""},e.value=t.schools}catch(i){console.error("Error adding school:",i),alert("Failed to add school. Please try again.")}},exportToCSV:()=>{const i=e.value.map(u=>`${u.name},${u.address}`).join(`
`),a=new Blob([`Name,Address
${i}`],{type:"text/csv"}),l=window.URL.createObjectURL(a),c=document.createElement("a");c.href=l,c.download="schools.csv",c.click(),window.URL.revokeObjectURL(l)}}}},zg={class:"schools"},Wg={class:"header"},Gg={class:"schools-grid"},Jg={class:"card-content"},Qg={class:"school-name"},Yg={class:"school-address"},Xg={key:0,class:"modal"},Zg={class:"modal-content"},em={class:"form-group"},tm={class:"button-group"};function sm(t,e,s,n,r,o){const i=Ct("router-link");return I(),D("div",zg,[h("div",Wg,[e[6]||(e[6]=h("h1",{class:"page-title"},"Schools",-1)),h("button",{class:"export-button",onClick:e[0]||(e[0]=(...a)=>n.exportToCSV&&n.exportToCSV(...a))},e[5]||(e[5]=[h("span",{class:"button-icon"},"",-1),Te(" Export to CSV ")]))]),h("div",Gg,[(I(!0),D(ge,null,Ie(n.schools,a=>(I(),D("div",{key:a.id,class:"school-card"},[e[8]||(e[8]=h("div",{class:"card-gradient"},null,-1)),h("div",Jg,[h("h2",Qg,B(a.name),1),h("p",Yg,B(a.address),1),ye(i,{to:{name:"SchoolDetails",params:{id:a.id}},class:"view-button"},{default:ze(()=>e[7]||(e[7]=[Te(" View Details  ")])),_:2},1032,["to"])])]))),128)),h("div",{class:"school-card add-card",onClick:e[1]||(e[1]=a=>n.showAddSchoolForm=!0)},e[9]||(e[9]=[h("div",{class:"add-icon"},"+",-1),h("p",null,"Add New School",-1)]))]),n.showAddSchoolForm?(I(),D("div",Xg,[h("div",Zg,[e[12]||(e[12]=h("h2",null,"Add New School",-1)),h("form",{onSubmit:e[4]||(e[4]=Yt((...a)=>n.addSchool&&n.addSchool(...a),["prevent"]))},[h("div",em,[e[10]||(e[10]=h("label",null,"School Name:",-1)),je(h("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>n.newSchool.name=a),required:""},null,512),[[ct,n.newSchool.name]])]),h("div",tm,[e[11]||(e[11]=h("button",{type:"submit",class:"submit-button"},"Add School",-1)),h("button",{type:"button",onClick:e[3]||(e[3]=a=>n.showAddSchoolForm=!1),class:"cancel-button"},"Cancel")])],32)])])):Oe("",!0)])}const nm=Vt(Kg,[["render",sm],["__scopeId","data-v-c913fac9"]]);const rm={name:"SchoolDetails",setup(){const t=vo(),e=fn(),s=hn(),n=xs(),r=he(!1),o=he({name:"",grade:""}),i=t.params.id,a=X(()=>s.schools.find(f=>f.id===i)),l=X(()=>e.classes.filter(f=>f.school_id===i));ns(async()=>{s.hasSchools||await s.fetchSchools(),await e.fetchClasses(i)});const c=async()=>{try{await e.addClass({schoolId:i,name:o.value.name,grade:o.value.grade||null}),u(),await e.fetchClasses(i)}catch(f){console.error("Error adding class:",f)}},u=()=>{r.value=!1,o.value={name:"",grade:""}};return{school:a,classes:l,showAddClassForm:r,newClass:o,classStore:e,addClass:c,closeAddClassForm:u,getStudentCount:f=>n.students.filter(m=>m.class_id===f).length}}},om={key:0,class:"school-details"},im={class:"header"},am={class:"header-info"},lm={class:"school-address"},cm={key:0,class:"loading"},um={key:1,class:"error-message"},dm={key:2,class:"classes-grid"},hm={class:"class-header"},fm={key:0,class:"grade-badge"},pm={class:"class-stats"},gm={class:"stat"},mm={class:"card-actions"},vm={key:3,class:"modal"},_m={class:"modal-content"},ym={class:"modal-header"},bm={class:"form-group"},wm={class:"form-group"},Sm=["value"],Em={class:"button-group"},km=["disabled"],Cm=["disabled"],Tm={key:1,class:"loading"};function Am(t,e,s,n,r,o){const i=Ct("router-link");return n.school?(I(),D("div",om,[h("div",im,[h("div",am,[h("h1",null,B(n.school.name),1),h("p",lm,B(n.school.address),1)]),h("button",{class:"add-button",onClick:e[0]||(e[0]=a=>n.showAddClassForm=!0)},e[6]||(e[6]=[h("i",{class:"fas fa-plus"},null,-1),Te(" Add Class ")]))]),n.classStore.loading?(I(),D("div",cm,e[7]||(e[7]=[h("div",{class:"spinner"},null,-1),Te(" Loading classes... ")]))):n.classStore.error?(I(),D("div",um,B(n.classStore.error),1)):(I(),D("div",dm,[(I(!0),D(ge,null,Ie(n.classes,a=>(I(),D("div",{key:a.id,class:"class-card"},[h("div",hm,[h("h2",null,B(a.name),1),a.grade?(I(),D("span",fm,"Grade "+B(a.grade),1)):Oe("",!0)]),h("div",pm,[h("div",gm,[e[8]||(e[8]=h("i",{class:"fas fa-user-graduate"},null,-1)),h("span",null,B(n.getStudentCount(a.id))+" Students",1)])]),h("div",mm,[ye(i,{to:{name:"ClassDetails",params:{id:a.id}},class:"view-button"},{default:ze(()=>e[9]||(e[9]=[h("i",{class:"fas fa-eye"},null,-1),Te(" View Class ")])),_:2},1032,["to"])])]))),128))])),n.showAddClassForm?(I(),D("div",vm,[h("div",_m,[h("div",ym,[e[11]||(e[11]=h("h2",null,"Add New Class",-1)),h("button",{class:"close-button",onClick:e[1]||(e[1]=(...a)=>n.closeAddClassForm&&n.closeAddClassForm(...a))},e[10]||(e[10]=[h("i",{class:"fas fa-times"},null,-1)]))]),h("form",{onSubmit:e[5]||(e[5]=Yt((...a)=>n.addClass&&n.addClass(...a),["prevent"]))},[h("div",bm,[e[12]||(e[12]=h("label",null,"Class Name:",-1)),je(h("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>n.newClass.name=a),required:"",placeholder:"Enter class name"},null,512),[[ct,n.newClass.name]])]),h("div",wm,[e[14]||(e[14]=h("label",null,"Grade:",-1)),je(h("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>n.newClass.grade=a)},[e[13]||(e[13]=h("option",{value:""},"Select Grade",-1)),(I(!0),D(ge,null,Ie(n.classStore.availableGrades,a=>(I(),D("option",{key:a,value:a}," Grade "+B(a),9,Sm))),128))],512),[[ts,n.newClass.grade]])]),h("div",Em,[h("button",{type:"submit",class:"submit-button",disabled:n.classStore.loading||!n.newClass.name},[e[15]||(e[15]=h("i",{class:"fas fa-plus"},null,-1)),Te(" "+B(n.classStore.loading?"Adding...":"Add Class"),1)],8,km),h("button",{type:"button",onClick:e[4]||(e[4]=(...a)=>n.closeAddClassForm&&n.closeAddClassForm(...a)),class:"cancel-button",disabled:n.classStore.loading}," Cancel ",8,Cm)])],32)])])):Oe("",!0)])):(I(),D("div",Tm,e[16]||(e[16]=[h("div",{class:"spinner"},null,-1),Te(" Loading school details... ")])))}const Pm=Vt(rm,[["render",Am],["__scopeId","data-v-5bc02370"]]);const xm={name:"ClassDetails",setup(){const t=vo(),e=hn(),s=fn(),n=xs(),r=t.params.id,o=he(!1),i=he(new Date().toISOString().split("T")[0]),a=he({}),l=X(()=>s.classes.find(_=>_.id===r)),c=X(()=>l.value?e.schools.find(_=>_.id===l.value.school_id):null),u=X(()=>n.getStudentsByClass(r)),d=he({name:""});return ns(async()=>{try{l.value||await s.fetchClasses(),r&&await n.fetchStudents(r),u.value.forEach(_=>{a.value[_.id]="present"})}catch(_){console.error("Error initializing component:",_),alert("Error loading class details: "+_.message)}}),{class_:l,school:c,classStudents:u,showAddStudentForm:o,newStudent:d,selectedDate:i,attendanceStatus:a,addStudent:async()=>{try{if(!r)throw new Error("No class selected");await n.addStudent({class_id:r,name:d.value.name.trim()}),d.value={name:""},o.value=!1,await n.fetchStudents(r),u.value.forEach(_=>{a.value[_.id]||(a.value[_.id]="present")})}catch(_){console.error("Error adding student:",_),alert("Error adding student: "+_.message)}},deleteStudent:async _=>{if(confirm("Are you sure you want to remove this student?"))try{await n.deleteStudent(_),delete a.value[_]}catch(T){alert("Error deleting student: "+T.message)}},submitAttendance:async()=>{try{for(const[_,T]of Object.entries(a.value))await n.markAttendance(_,i.value,T);alert("Attendance submitted successfully!")}catch(_){alert("Error submitting attendance: "+_.message)}}}}},Om={class:"class-details"},Rm={class:"header"},jm={class:"school-name"},Im={class:"attendance-section"},$m={class:"date-selector"},Lm={class:"students-list"},Mm=["onUpdate:modelValue"],Dm=["onClick"],Nm={key:0,class:"modal"},Um={class:"modal-content"},Fm={class:"form-group"},Bm={class:"button-group"};function Vm(t,e,s,n,r,o){var a,l;const i=Ct("router-link");return I(),D("div",Om,[h("div",Rm,[h("div",null,[h("h1",null,B((a=n.class_)==null?void 0:a.name),1),h("p",jm,B((l=n.school)==null?void 0:l.name),1)]),h("button",{class:"add-button",onClick:e[0]||(e[0]=c=>n.showAddStudentForm=!0)},"Add Student")]),h("div",Im,[e[8]||(e[8]=h("h2",null,"Take Attendance",-1)),h("div",$m,[je(h("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=c=>n.selectedDate=c)},null,512),[[ct,n.selectedDate]])]),h("div",Lm,[h("table",null,[e[7]||(e[7]=h("thead",null,[h("tr",null,[h("th",null,"Student Name"),h("th",null,"Status"),h("th",null,"Actions")])],-1)),h("tbody",null,[(I(!0),D(ge,null,Ie(n.classStudents,c=>(I(),D("tr",{key:c.id},[h("td",null,[ye(i,{to:{name:"StudentProfile",params:{id:c.id}},class:"student-link"},{default:ze(()=>[Te(B(c.name),1)]),_:2},1032,["to"])]),h("td",null,[je(h("select",{"onUpdate:modelValue":u=>n.attendanceStatus[c.id]=u},e[6]||(e[6]=[h("option",{value:"present"},"Present",-1),h("option",{value:"absent"},"Absent",-1),h("option",{value:"late"},"Late",-1)]),8,Mm),[[ts,n.attendanceStatus[c.id]]])]),h("td",null,[h("button",{class:"delete-button",onClick:u=>n.deleteStudent(c.id)},"Remove",8,Dm)])]))),128))])])]),h("button",{class:"submit-attendance",onClick:e[2]||(e[2]=(...c)=>n.submitAttendance&&n.submitAttendance(...c))},"Submit Attendance")]),n.showAddStudentForm?(I(),D("div",Nm,[h("div",Um,[e[11]||(e[11]=h("h2",null,"Add New Student",-1)),h("form",{onSubmit:e[5]||(e[5]=Yt((...c)=>n.addStudent&&n.addStudent(...c),["prevent"]))},[h("div",Fm,[e[9]||(e[9]=h("label",null,"Student Name:",-1)),je(h("input",{"onUpdate:modelValue":e[3]||(e[3]=c=>n.newStudent.name=c),required:""},null,512),[[ct,n.newStudent.name]])]),h("div",Bm,[e[10]||(e[10]=h("button",{type:"submit",class:"submit-button"},"Add Student",-1)),h("button",{type:"button",onClick:e[4]||(e[4]=c=>n.showAddStudentForm=!1),class:"cancel-button"},"Cancel")])],32)])])):Oe("",!0)])}const Hm=Vt(xm,[["render",Vm],["__scopeId","data-v-18230196"]]);const qm={name:"StudentList",setup(){const t=xs(),e=fn(),s=hn(),n=he(""),r=he(""),o=he([]),i=he(!0);ns(async()=>{i.value=!0;try{}catch(b){console.error("Error loading data for StudentList:",b)}finally{i.value=!1}});const a=X(()=>t.students),l=X(()=>e.classes),c=X(()=>{if(!a.value)return[];const b=new Set;return a.value.forEach(E=>{E.grade&&b.add(E.grade)}),Array.from(b).sort()}),u=X(()=>{if(i.value)return[];let b=a.value||[];if(n.value){const E=n.value.toLowerCase().trim();E&&(b=b.filter(x=>x.name.toLowerCase().includes(E)))}return r.value&&(b=b.filter(E=>E.classId===r.value)),o.value.length>0&&(b=b.filter(E=>o.value.includes(E.grade))),b}),d=b=>{const E=e.classes.find(x=>x.id===b);return E?E.name:""},f=b=>{const E=e.classes.find(x=>x.id===b);return E?E.schoolId:null},m=b=>{if(!b)return"";const E=s.schools.find(x=>x.id===b);return E?E.name:""},y=b=>typeof t.getTotalMerits=="function"?t.getTotalMerits(b):0,_=b=>{var P,K;const E=((P=b.attendance)==null?void 0:P.length)||0;if(E===0)return 0;const x=((K=b.attendance)==null?void 0:K.filter(z=>z.status==="present"||z.status==="late").length)||0;return Math.round(x/E*100)};return{searchQuery:n,selectedClass:r,selectedGrades:o,uniqueGrades:c,filteredStudents:u,classes:l,isLoading:i,getClassName:d,getSchoolName:m,getClassSchoolId:f,getTotalMerits:y,getAttendanceRate:_,deleteStudentConfirm:async b=>{const E=`Are you sure you want to delete ${b.name}?

This will permanently remove the student and all their data including:
 Attendance records
 Merit points
 Solve times
 Notes

This action cannot be undone.`;if(confirm(E))try{await t.deleteStudent(b.id),alert(`${b.name} has been successfully deleted.`)}catch(x){console.error("Error deleting student:",x),alert(`Error deleting student: ${x.message}`)}},exportToCSV:()=>{try{if(!u.value||u.value.length===0){alert("No students to export!");return}const b=j=>{if(j==null)return"";if(Array.isArray(j))return`"${j.map(fe=>{const le=String(fe);return le.includes(",")?`"${le.replace(/"/g,'""')}"`:le}).join("; ")}"`;const Q=String(j);return Q.includes(",")||Q.includes('"')||Q.includes(`
`)?`"${Q.replace(/"/g,'""')}"`:Q},E=u.value.map(j=>{var se,He;const Q=(j.solves||[]).map(ce=>ce.time).sort((ce,Qe)=>ce-Qe).map(ce=>ce.toFixed(2)+"s"),me=(j.attendance||[]).map(ce=>`${ce.date}: ${ce.status}`),fe=(j.merits||[]).map(ce=>`${ce.category} (${ce.points>0?"+":""}${ce.points}): ${ce.reason}`),le=(j.notes||[]).map(ce=>`${ce.date}: ${ce.content}`),ke=((se=j.attendance)==null?void 0:se.length)||0,xe=((He=j.attendance)==null?void 0:He.filter(ce=>ce.status==="present"||ce.status==="late").length)||0,te=typeof t.getBestSolveTime=="function"?t.getBestSolveTime(j.id):null,G=typeof t.getBestAverageOf5=="function"?t.getBestAverageOf5(j.id):null;return{"Student Name":b(j.name),Class:b(d(j.classId)),School:b(m(f(j.classId))),"Total Merit Points":b(y(j.id)),"Merit Records":b(fe),"Attendance Rate":b(_(j)+"%"),"Total Classes":b(ke),"Present/Late Count":b(xe),"Attendance History":b(me),"Best Single Time":b(te?te.toFixed(2)+"s":"N/A"),"Best Average of 5":b(G?G.toFixed(2)+"s":"N/A"),"All Solve Times":b(Q),Notes:b(le)}}),P=`students_detailed_export_${new Date().toISOString().replace(/[:.]/g,"-")}.csv`,K=[Object.keys(E[0]).join(","),...E.map(j=>Object.values(j).join(","))].join(`
`),z=new Blob([K],{type:"text/csv;charset=utf-8;"}),H=document.createElement("a");if(H.download!==void 0){const j=URL.createObjectURL(z);H.setAttribute("href",j),H.setAttribute("download",P),H.style.visibility="hidden",document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(j),console.log("CSV export completed successfully")}else throw new Error("Browser does not support downloading files")}catch(b){console.error("Error exporting CSV:",b),alert("There was an error exporting the data. Please try again.")}}}}},Km={class:"student-list"},zm={class:"header"},Wm={class:"filters"},Gm={class:"input-wrapper"},Jm={class:"input-wrapper"},Qm=["value"],Ym={class:"input-wrapper"},Xm=["value"],Zm={key:0,class:"no-results"},ev={key:1,class:"student-grid"},tv={class:"card-actions"},sv=["onClick"],nv={class:"student-info"};function rv(t,e,s,n,r,o){const i=Ct("router-link");return I(),D("div",Km,[h("div",zm,[e[5]||(e[5]=h("h1",{class:"page-title"},"All Students",-1)),h("button",{class:"action-button export-button",onClick:e[0]||(e[0]=(...a)=>n.exportToCSV&&n.exportToCSV(...a))},e[4]||(e[4]=[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"button-icon"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})],-1),Te(" Export to CSV ")]))]),h("div",Wm,[h("div",Gm,[e[6]||(e[6]=h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"input-icon"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})],-1)),je(h("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>n.searchQuery=a),placeholder:"Search students by name...",class:"search-input"},null,512),[[ct,n.searchQuery]])]),h("div",Jm,[e[8]||(e[8]=h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"input-icon"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})],-1)),je(h("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>n.selectedClass=a),class:"filter-select"},[e[7]||(e[7]=h("option",{value:""},"Filter by Class...",-1)),(I(!0),D(ge,null,Ie(n.classes,a=>(I(),D("option",{key:a.id,value:a.id},B(a.name)+" - "+B(n.getSchoolName(a.schoolId)),9,Qm))),128))],512),[[ts,n.selectedClass]])]),h("div",Ym,[e[10]||(e[10]=h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"input-icon"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1)),je(h("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>n.selectedGrades=a),class:"filter-select",multiple:""},[e[9]||(e[9]=h("option",{value:""},"Filter by Grade...",-1)),(I(!0),D(ge,null,Ie(n.uniqueGrades,a=>(I(),D("option",{key:a,value:a}," Grade "+B(a),9,Xm))),128))],512),[[ts,n.selectedGrades]])])]),n.filteredStudents.length===0&&!n.isLoading?(I(),D("div",Zm," No students found matching your criteria. ")):(I(),D("div",ev,[(I(!0),D(ge,null,Ie(n.filteredStudents,a=>(I(),D("div",{key:a.id,class:"student-card"},[e[16]||(e[16]=h("div",{class:"card-gradient"},null,-1)),h("div",tv,[h("button",{onClick:l=>n.deleteStudentConfirm(a),class:"delete-button",title:"Delete Student"},e[11]||(e[11]=[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"delete-icon"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})],-1)]),8,sv)]),ye(i,{to:{name:"StudentProfile",params:{id:a.id}},class:"student-link"},{default:ze(()=>[h("h3",null,B(a.name),1),h("div",nv,[h("p",null,[e[12]||(e[12]=h("strong",null,"Class:",-1)),Te(" "+B(n.getClassName(a.classId)||"N/A"),1)]),h("p",null,[e[13]||(e[13]=h("strong",null,"School:",-1)),Te(" "+B(n.getSchoolName(n.getClassSchoolId(a.classId))||"N/A"),1)]),h("p",null,[e[14]||(e[14]=h("strong",null,"Merits:",-1)),Te(" "+B(n.getTotalMerits(a.id)),1)]),h("p",null,[e[15]||(e[15]=h("strong",null,"Attendance:",-1)),Te(" "+B(n.getAttendanceRate(a))+"%",1)])])]),_:2},1032,["to"])]))),128))]))])}const ov=Vt(qm,[["render",rv],["__scopeId","data-v-4ec0d493"]]);const iv={name:"StudentProfile",setup(){const t=vo();Oh();const e=xs(),s=t.params.id,n=X(()=>e.students.find(L=>L.id===s));ns(async()=>{if(s)try{await e.fetchStudent(s)}catch(L){console.error("Error loading student data:",L),alert("Error loading student data: "+L.message)}});const r=X(()=>{var L;return(L=n.value)!=null&&L.attendance?[...n.value.attendance].sort((oe,ve)=>new Date(ve.date)-new Date(oe.date)):[]}),o=X(()=>r.value.filter(L=>L.status==="PRESENT").length||0),i=X(()=>r.value.filter(L=>L.status==="ABSENT").length||0),a=X(()=>r.value.filter(L=>L.status==="LATE").length||0),l=X(()=>{const L=o.value+i.value+a.value;return L===0?0:Math.round(o.value/L*100)}),c=he(!1),u=he(""),d=X(()=>{var L;return(L=n.value)!=null&&L.notes?[...n.value.notes].sort((oe,ve)=>new Date(ve.created_at)-new Date(oe.created_at)):[]}),f=async()=>{try{await e.addNote(s,u.value),u.value="",c.value=!1}catch(L){console.error("Error adding note:",L),alert("Error adding note: "+L.message)}},m=async L=>{if(confirm("Are you sure you want to delete this note?"))try{await e.deleteNote(s,L)}catch(oe){console.error("Error deleting note:",oe),alert("Error deleting note: "+oe.message)}},y=he(!1),_=he(!1),T=he(!1),O=he({points:1,category:e.meritCategories[0],description:""}),b=X(()=>{var L;return(L=n.value)!=null&&L.merit_points?[...n.value.merit_points].sort((oe,ve)=>new Date(ve.created_at)-new Date(oe.created_at)):[]}),E=X(()=>{var L;return(L=n.value)!=null&&L.merit_points?n.value.merit_points.reduce((oe,ve)=>oe+ve.points,0):0}),x=async()=>{if(!T.value){T.value=!0;try{await e.addMerit(s,{points:O.value.points,category:O.value.category,description:O.value.description}),y.value=!1,O.value={points:1,category:e.meritCategories[0],description:""}}catch(L){console.error("Error adding merit points:",L),alert("Error adding merit points: "+L.message)}finally{T.value=!1}}},P=async()=>{if(!T.value){T.value=!0;try{await e.subtractMerit(s,{points:O.value.points,category:O.value.category,description:O.value.description}),_.value=!1,O.value={points:1,category:e.meritCategories[0],description:""}}catch(L){console.error("Error subtracting merit points:",L),alert("Error subtracting merit points: "+L.message)}finally{T.value=!1}}},K=he(!1),z=he(!1),H=he(""),j=X(()=>{var L;return(L=n.value)!=null&&L.solve_times?[...n.value.solve_times].sort((oe,ve)=>new Date(ve.created_at)-new Date(oe.created_at)):[]}),Q=X(()=>{var L,oe;return(oe=(L=n.value)==null?void 0:L.solve_times)!=null&&oe.length?Math.min(...n.value.solve_times.map(ve=>ve.time_seconds)):null}),me=X(()=>{var ve,S;if(!((S=(ve=n.value)==null?void 0:ve.solve_times)!=null&&S.length)||n.value.solve_times.length<5)return null;const L=n.value.solve_times.map(N=>N.time_seconds).sort((N,M)=>N-M);let oe=1/0;for(let N=0;N<=L.length-5;N++){const M=L.slice(N,N+5).reduce((V,ie)=>V+ie)/5;oe=Math.min(oe,M)}return oe===1/0?null:oe}),fe=async()=>{if(!(z.value||!H.value)){z.value=!0;try{const L=parseFloat(H.value);if(isNaN(L)||L<=0)throw new Error("Please enter a valid solve time");await e.addSolveTime(s,{timeMs:L*1e3,puzzleType:"Standard"}),K.value=!1,H.value=""}catch(L){console.error("Error adding solve time:",L),alert("Error adding solve time: "+L.message)}finally{z.value=!1}}},le=async L=>{if(confirm("Are you sure you want to delete this solve time?"))try{await e.deleteSolveTime(s,L)}catch(oe){console.error("Error deleting solve time:",oe),alert("Error deleting solve time: "+oe.message)}},ke=5,xe=he(1),te=he(1),G=X(()=>Math.ceil(b.value.length/ke)),se=X(()=>{const L=(xe.value-1)*ke,oe=L+ke;return b.value.slice(L,oe)}),He=X(()=>Math.ceil(j.value.length/ke)),ce=X(()=>{const L=(te.value-1)*ke,oe=L+ke;return j.value.slice(L,oe)});return vs(()=>{var L;return(L=n.value)==null?void 0:L.id},()=>{xe.value=1,te.value=1}),{student:n,sortedAttendance:r,presentCount:o,absentCount:i,lateCount:a,attendanceRate:l,showAddNoteForm:c,newNote:u,sortedNotes:d,addNote:f,deleteNote:m,showAddMeritForm:y,showSubtractMeritForm:_,newMerit:O,sortedMerits:b,totalMerits:E,addMerit:x,subtractMerit:P,showAddSolveForm:K,newSolveTime:H,sortedSolves:j,bestSolveTime:Q,bestAo5:me,addSolveTime:fe,deleteSolveTime:le,formatDate:L=>new Date(L).toLocaleDateString(),formatTime:L=>new Date(L).toLocaleString(),formatSolveTime:L=>L.toFixed(2)+"s",studentStore:e,isSubmittingMerit:T,isSubmittingSolve:z,itemsPerPage:ke,currentMeritPage:xe,currentSolvePage:te,totalMeritPages:G,totalSolvePages:He,paginatedMerits:se,paginatedSolves:ce}}},av={class:"student-profile"},lv={key:0,class:"loading"},cv={class:"profile-header"},uv={class:"school-info"},dv={class:"attendance-section"},hv={class:"attendance-stats"},fv={class:"stat"},pv={class:"value"},gv={class:"stat"},mv={class:"value"},vv={class:"stat"},_v={class:"value"},yv={class:"stat"},bv={class:"value"},wv={key:0,class:"attendance-table"},Sv={key:1,class:"no-data"},Ev={class:"notes-section"},kv={class:"section-header"},Cv={class:"notes-list"},Tv={class:"note-footer"},Av={class:"timestamp"},Pv=["onClick"],xv={key:0,class:"no-data"},Ov={class:"merit-section"},Rv={class:"section-header"},jv={class:"total-points"},Iv={class:"merit-buttons"},$v={class:"merits-list"},Lv={class:"merit-header"},Mv={class:"points"},Dv={class:"category"},Nv={key:0,class:"description"},Uv={class:"merit-footer"},Fv={class:"timestamp"},Bv={key:0,class:"no-data"},Vv={key:1,class:"pagination"},Hv=["disabled"],qv={class:"page-info"},Kv=["disabled"],zv={class:"solve-section"},Wv={class:"section-header"},Gv={class:"solve-stats"},Jv={class:"stat"},Qv={class:"value"},Yv={class:"stat"},Xv={class:"value"},Zv={class:"solves-list"},e_={class:"solve-time"},t_={class:"solve-footer"},s_={class:"timestamp"},n_=["onClick"],r_={key:0,class:"no-data"},o_={key:1,class:"pagination"},i_=["disabled"],a_={class:"page-info"},l_=["disabled"],c_={key:0,class:"modal"},u_={class:"modal-content"},d_={class:"form-group"},h_={class:"button-group"},f_={key:1,class:"modal"},p_={class:"modal-content"},g_={class:"form-group"},m_={class:"form-group"},v_=["value"],__={class:"form-group"},y_={class:"button-group"},b_=["disabled"],w_={key:2,class:"modal"},S_={class:"modal-content"},E_={class:"form-group"},k_={class:"form-group"},C_=["value"],T_={class:"form-group"},A_={class:"button-group"},P_=["disabled"],x_={key:3,class:"modal"},O_={class:"modal-content"},R_={class:"form-group"},j_={class:"button-group"},I_=["disabled"];function $_(t,e,s,n,r,o){var i,a,l;return I(),D("div",av,[n.student?(I(),D(ge,{key:1},[h("div",cv,[h("h1",null,B(n.student.name),1),h("div",uv,[h("p",null,"Class: "+B((i=n.student.class)==null?void 0:i.name),1),h("p",null,"School: "+B((l=(a=n.student.class)==null?void 0:a.school)==null?void 0:l.name),1)]),h("button",{onClick:e[0]||(e[0]=c=>t.$router.push({name:"ClassDetails",params:{id:n.student.class_id}})),class:"back-to-class"}," Back to Class ")]),h("div",dv,[e[30]||(e[30]=h("h2",null,"Attendance History",-1)),h("div",hv,[h("div",fv,[e[25]||(e[25]=h("span",{class:"label"},"Present",-1)),h("span",pv,B(n.presentCount),1)]),h("div",gv,[e[26]||(e[26]=h("span",{class:"label"},"Absent",-1)),h("span",mv,B(n.absentCount),1)]),h("div",vv,[e[27]||(e[27]=h("span",{class:"label"},"Late",-1)),h("span",_v,B(n.lateCount),1)]),h("div",yv,[e[28]||(e[28]=h("span",{class:"label"},"Attendance Rate",-1)),h("span",bv,B(n.attendanceRate)+"%",1)])]),n.sortedAttendance.length?(I(),D("table",wv,[e[29]||(e[29]=h("thead",null,[h("tr",null,[h("th",null,"Date"),h("th",null,"Status"),h("th",null,"Recorded")])],-1)),h("tbody",null,[(I(!0),D(ge,null,Ie(n.sortedAttendance,c=>(I(),D("tr",{key:c.id},[h("td",null,B(n.formatDate(c.date)),1),h("td",{class:Gs(c.status.toLowerCase())},B(c.status),3),h("td",null,B(n.formatTime(c.created_at)),1)]))),128))])])):(I(),D("div",Sv," No attendance records yet "))]),h("div",Ev,[h("div",kv,[e[31]||(e[31]=h("h2",null,"Notes",-1)),h("button",{onClick:e[1]||(e[1]=c=>n.showAddNoteForm=!0),class:"add-button"},"Add Note")]),h("div",Cv,[(I(!0),D(ge,null,Ie(n.sortedNotes,c=>(I(),D("div",{key:c.id,class:"note-card"},[h("p",null,B(c.text),1),h("div",Tv,[h("span",Av,B(n.formatTime(c.created_at)),1),h("button",{onClick:u=>n.deleteNote(c.id),class:"delete-button"},"Delete",8,Pv)])]))),128)),n.sortedNotes.length?Oe("",!0):(I(),D("div",xv," No notes added yet "))])]),h("div",Ov,[h("div",Rv,[h("div",null,[e[32]||(e[32]=h("h2",null,"Merit Points",-1)),h("p",jv,"Total Points: "+B(n.totalMerits),1)]),h("div",Iv,[h("button",{onClick:e[2]||(e[2]=c=>n.showAddMeritForm=!0),class:"add-button"},"Award Points"),h("button",{onClick:e[3]||(e[3]=c=>n.showSubtractMeritForm=!0),class:"subtract-button"},"Subtract Points")])]),h("div",$v,[(I(!0),D(ge,null,Ie(n.paginatedMerits,c=>(I(),D("div",{key:c.id,class:Gs(["merit-card",c.type])},[h("div",Lv,[h("span",Mv,B(c.points>0?"+":"")+B(c.points),1),h("span",Dv,B(c.category),1)]),c.description?(I(),D("p",Nv,B(c.description),1)):Oe("",!0),h("div",Uv,[h("span",Fv,B(n.formatTime(c.created_at)),1)])],2))),128)),n.sortedMerits.length?Oe("",!0):(I(),D("div",Bv," No merit points awarded yet ")),n.sortedMerits.length>n.itemsPerPage?(I(),D("div",Vv,[h("button",{disabled:n.currentMeritPage===1,onClick:e[4]||(e[4]=c=>n.currentMeritPage--),class:"page-button"}," Previous ",8,Hv),h("span",qv," Page "+B(n.currentMeritPage)+" of "+B(n.totalMeritPages),1),h("button",{disabled:n.currentMeritPage>=n.totalMeritPages,onClick:e[5]||(e[5]=c=>n.currentMeritPage++),class:"page-button"}," Next ",8,Kv)])):Oe("",!0)])]),h("div",zv,[h("div",Wv,[h("div",null,[e[35]||(e[35]=h("h2",null,"Solve Times",-1)),h("div",Gv,[h("div",Jv,[e[33]||(e[33]=h("span",{class:"label"},"Best Single",-1)),h("span",Qv,B(n.bestSolveTime?n.formatSolveTime(n.bestSolveTime):"No solves yet"),1)]),h("div",Yv,[e[34]||(e[34]=h("span",{class:"label"},"Best Ao5",-1)),h("span",Xv,B(n.bestAo5?n.formatSolveTime(n.bestAo5):"Need 5+ solves"),1)])])]),h("button",{onClick:e[6]||(e[6]=c=>n.showAddSolveForm=!0),class:"add-button"},"Add Time")]),h("div",Zv,[(I(!0),D(ge,null,Ie(n.paginatedSolves,c=>(I(),D("div",{key:c.id,class:"solve-card"},[h("div",e_,B(n.formatSolveTime(c.time_seconds)),1),h("div",t_,[h("span",s_,B(n.formatTime(c.created_at)),1),h("button",{onClick:u=>n.deleteSolveTime(c.id),class:"delete-button"},"Delete",8,n_)])]))),128)),n.sortedSolves.length?Oe("",!0):(I(),D("div",r_," No solve times recorded yet ")),n.sortedSolves.length>n.itemsPerPage?(I(),D("div",o_,[h("button",{disabled:n.currentSolvePage===1,onClick:e[7]||(e[7]=c=>n.currentSolvePage--),class:"page-button"}," Previous ",8,i_),h("span",a_," Page "+B(n.currentSolvePage)+" of "+B(n.totalSolvePages),1),h("button",{disabled:n.currentSolvePage>=n.totalSolvePages,onClick:e[8]||(e[8]=c=>n.currentSolvePage++),class:"page-button"}," Next ",8,l_)])):Oe("",!0)])]),n.showAddNoteForm?(I(),D("div",c_,[h("div",u_,[e[38]||(e[38]=h("h2",null,"Add Note",-1)),h("form",{onSubmit:e[11]||(e[11]=Yt((...c)=>n.addNote&&n.addNote(...c),["prevent"]))},[h("div",d_,[e[36]||(e[36]=h("label",null,"Note:",-1)),je(h("textarea",{"onUpdate:modelValue":e[9]||(e[9]=c=>n.newNote=c),required:"",placeholder:"Enter note..."},null,512),[[ct,n.newNote]])]),h("div",h_,[e[37]||(e[37]=h("button",{type:"submit",class:"submit-button"},"Add Note",-1)),h("button",{type:"button",onClick:e[10]||(e[10]=c=>n.showAddNoteForm=!1),class:"cancel-button"},"Cancel")])],32)])])):Oe("",!0),n.showAddMeritForm?(I(),D("div",f_,[h("div",p_,[e[42]||(e[42]=h("h2",null,"Award Merit Points",-1)),h("form",{onSubmit:e[16]||(e[16]=Yt((...c)=>n.addMerit&&n.addMerit(...c),["prevent"]))},[h("div",g_,[e[39]||(e[39]=h("label",null,"Points:",-1)),je(h("input",{type:"number","onUpdate:modelValue":e[12]||(e[12]=c=>n.newMerit.points=c),required:"",min:"1",step:"1"},null,512),[[ct,n.newMerit.points,void 0,{number:!0}]])]),h("div",m_,[e[40]||(e[40]=h("label",null,"Category:",-1)),je(h("select",{"onUpdate:modelValue":e[13]||(e[13]=c=>n.newMerit.category=c),required:""},[(I(!0),D(ge,null,Ie(n.studentStore.meritCategories,c=>(I(),D("option",{key:c,value:c},B(c),9,v_))),128))],512),[[ts,n.newMerit.category]])]),h("div",__,[e[41]||(e[41]=h("label",null,"Description (Optional):",-1)),je(h("textarea",{"onUpdate:modelValue":e[14]||(e[14]=c=>n.newMerit.description=c),placeholder:"Enter description..."},null,512),[[ct,n.newMerit.description]])]),h("div",y_,[h("button",{type:"submit",class:"submit-button",disabled:n.isSubmittingMerit},"Award Points",8,b_),h("button",{type:"button",onClick:e[15]||(e[15]=c=>n.showAddMeritForm=!1),class:"cancel-button"},"Cancel")])],32)])])):Oe("",!0),n.showSubtractMeritForm?(I(),D("div",w_,[h("div",S_,[e[46]||(e[46]=h("h2",null,"Subtract Merit Points",-1)),h("form",{onSubmit:e[21]||(e[21]=Yt((...c)=>n.subtractMerit&&n.subtractMerit(...c),["prevent"]))},[h("div",E_,[e[43]||(e[43]=h("label",null,"Points:",-1)),je(h("input",{type:"number","onUpdate:modelValue":e[17]||(e[17]=c=>n.newMerit.points=c),required:"",min:"1",step:"1"},null,512),[[ct,n.newMerit.points,void 0,{number:!0}]])]),h("div",k_,[e[44]||(e[44]=h("label",null,"Category:",-1)),je(h("select",{"onUpdate:modelValue":e[18]||(e[18]=c=>n.newMerit.category=c),required:""},[(I(!0),D(ge,null,Ie(n.studentStore.meritCategories,c=>(I(),D("option",{key:c,value:c},B(c),9,C_))),128))],512),[[ts,n.newMerit.category]])]),h("div",T_,[e[45]||(e[45]=h("label",null,"Description (Optional):",-1)),je(h("textarea",{"onUpdate:modelValue":e[19]||(e[19]=c=>n.newMerit.description=c),placeholder:"Enter description..."},null,512),[[ct,n.newMerit.description]])]),h("div",A_,[h("button",{type:"submit",class:"submit-button",disabled:n.isSubmittingMerit},"Subtract Points",8,P_),h("button",{type:"button",onClick:e[20]||(e[20]=c=>n.showSubtractMeritForm=!1),class:"cancel-button"},"Cancel")])],32)])])):Oe("",!0),n.showAddSolveForm?(I(),D("div",x_,[h("div",O_,[e[48]||(e[48]=h("h2",null,"Add Solve Time",-1)),h("form",{onSubmit:e[24]||(e[24]=Yt((...c)=>n.addSolveTime&&n.addSolveTime(...c),["prevent"]))},[h("div",R_,[e[47]||(e[47]=h("label",null,"Time (seconds):",-1)),je(h("input",{type:"number","onUpdate:modelValue":e[22]||(e[22]=c=>n.newSolveTime=c),required:"",min:"0.01",step:"0.01",placeholder:"e.g., 12.34"},null,512),[[ct,n.newSolveTime,void 0,{number:!0}]])]),h("div",j_,[h("button",{type:"submit",class:"submit-button",disabled:n.isSubmittingSolve},"Add Time",8,I_),h("button",{type:"button",onClick:e[23]||(e[23]=c=>n.showAddSolveForm=!1),class:"cancel-button"},"Cancel")])],32)])])):Oe("",!0)],64)):(I(),D("div",lv," Loading student profile... "))])}const L_=Vt(iv,[["render",$_],["__scopeId","data-v-76d27bec"]]),M_=Ph({history:nh("/"),routes:[{path:"/",name:"Dashboard",component:qg},{path:"/schools",name:"Schools",component:nm},{path:"/school/:id",name:"SchoolDetails",component:Pm,props:!0},{path:"/class/:id",name:"ClassDetails",component:Hm,props:!0},{path:"/students",name:"Students",component:ov},{path:"/student/:id",name:"StudentProfile",component:L_,props:!0}]});Ml().then(t=>{t||console.error("Initial Supabase connection test failed. Check credentials, RLS policies, and network.")});const Eo=cd(Td);Eo.use(fd());Eo.use(M_);Eo.mount("#app");export{D_ as g};
